"use strict";(self.webpackChunkmy_financial_dashboard=self.webpackChunkmy_financial_dashboard||[]).push([[727],{3727:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(2555),r=s(5043),n=s(4668),i=s(108),l=s(877),o=s(7734),c=s(2185),d=s(6026),m=s(6150),x=s(1327),h=s(3243),u=s(3839),g=s(3014),y=s(168),p=s(3831),j=(0,g.gu)({chartName:"LineChart",GraphicalChild:y.N,axisComponents:[{axisType:"xAxis",AxisComp:c.W},{axisType:"yAxis",AxisComp:d.h}],formatAxisMap:p.pr}),f=s(579);const v=()=>{var e;const{financialData:t,calculateAge:s}=(0,r.useContext)(n.rc),[g,p]=(0,r.useState)({retirementAge:65,lifeExpectancy:90,desiredMonthlyIncome:6e3,inflationRate:2.5,investmentReturnPreRetirement:7,investmentReturnPostRetirement:4,cpfLifePayout:1500,additionalIncomeSource:0,currentSavings:t.personalInfo.currentSavings||0,currentAge:s(),currentCpfBalance:t.personalInfo.currentCpfBalance||0,monthlySavingsRate:.2*t.income.currentSalary||1e3}),v=e=>new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),b=(e,t)=>{p((0,a.A)((0,a.A)({},g),{},{[e]:parseFloat(t)||0}))},N=(()=>{const{retirementAge:e,lifeExpectancy:t,desiredMonthlyIncome:s,inflationRate:a,investmentReturnPreRetirement:r,investmentReturnPostRetirement:n,cpfLifePayout:i,additionalIncomeSource:l,currentSavings:o,currentAge:c,currentCpfBalance:d,monthlySavingsRate:m}=g,x=e-c,h=t-e,u=Math.pow(1+a/100,x),y=i*u,p=l*u,j=12*(s*u)-12*(y+p),f=n/100,v=Math.max(0,j/f),b=[];let N=o,k=d;const R=12*m,w=r/100;for(let g=0;g<=x+h;g++){const t=(new Date).getFullYear()+g,s=c+g,r=s>=e;if(r){const t=s-e,r=j*Math.pow(1+a/100,t);N=Math.max(0,N*(1+n/100)-r)}else N=N*(1+w)+R,k*=1.04;const i=N+(r?0:k),l=r?N/v:i/v;b.push({year:t,age:s,savingsBalance:Math.round(N),cpfBalance:Math.round(r?0:k),totalNetWorth:Math.round(i),targetNeeded:Math.round(v),savingsRatio:l,isRetired:r,annualIncome:r?Math.round(j+12*(y+p)):0,monthlyIncome:r?Math.round((j+12*(y+p))/12):0})}return b})(),k=(e=>{const t=e.findIndex(e=>e.age===g.retirementAge);if(-1===t)return{status:"unknown",message:"Could not determine retirement readiness.",shortfall:0,retirementYear:null};const s=e[t],a=s.targetNeeded,r=s.totalNetWorth,n=a-r,i=r/a;let l,o;return i>=1?(l="excellent",o="You're on track for retirement! By age ".concat(g.retirementAge,", you're projected to have ").concat(v(r),", exceeding your goal by ").concat(v(r-a),".")):i>=.8?(l="good",o="You're close to your retirement goal. By age ".concat(g.retirementAge,", you're projected to have ").concat(v(r),", which is ").concat(Math.round(100*i),"% of your target. Consider increasing your savings slightly.")):i>=.5?(l="caution",o="You're making progress, but may fall short. By age ".concat(g.retirementAge,", you're projected to have ").concat(v(r),", which is ").concat(Math.round(100*i),"% of your target. Consider increasing your monthly savings.")):(l="warning",o="You're at risk of falling short of your retirement goal. By age ".concat(g.retirementAge,", you're projected to have ").concat(v(r),", which is only ").concat(Math.round(100*i),"% of your target. You may need to significantly increase savings or adjust your retirement plan.")),{status:l,message:o,shortfall:Math.max(0,n),retirementYear:s.year,savingsRatio:i,projectedSavings:r}})(N),R=(e=>{const{retirementAge:t,currentAge:s}=g,a=t-s,r=e.findIndex(e=>e.age===t);if(-1===r)return 0;const n=e[r],i=Math.max(0,n.targetNeeded-n.totalNetWorth);if(i<=0)return 0;const l=g.investmentReturnPreRetirement/100,o=Math.pow(1+l,1/12)-1,c=12*a,d=i*o/(Math.pow(1+o,c)-1);return Math.round(d)})(N),w=N.filter((e,t)=>t%5===0||t===N.length-1);return(0,f.jsxs)("div",{className:"space-y-6",children:[(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Retirement Planner"}),(0,f.jsxs)("div",{className:"p-4 rounded-lg border mb-6 ".concat((e=>{switch(e){case"excellent":return"bg-green-100 text-green-800 border-green-200";case"good":return"bg-blue-100 text-blue-800 border-blue-200";case"caution":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"warning":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(k.status)),children:[(0,f.jsx)("h3",{className:"font-medium text-lg mb-2",children:"Retirement Readiness Summary"}),(0,f.jsx)("p",{className:"mb-1",children:k.message}),k.shortfall>0&&(0,f.jsxs)("p",{className:"text-sm mt-2",children:["To close the projected shortfall of ",v(k.shortfall),", consider saving an additional ",v(R)," per month until retirement."]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-medium text-blue-700 border-b pb-2 mb-4",children:"Retirement Settings"}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:["Current Age: ",g.currentAge]}),(0,f.jsx)("p",{className:"text-xs text-gray-500",children:"Auto-calculated from your birthday"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Retirement Age"}),(0,f.jsx)("input",{type:"range",min:"55",max:"75",step:"1",value:g.retirementAge,onChange:e=>b("retirementAge",e.target.value),className:"w-full"}),(0,f.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,f.jsx)("span",{children:"55"}),(0,f.jsx)("span",{className:"font-medium",children:g.retirementAge}),(0,f.jsx)("span",{children:"75"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Life Expectancy"}),(0,f.jsx)("input",{type:"range",min:"75",max:"105",step:"1",value:g.lifeExpectancy,onChange:e=>b("lifeExpectancy",e.target.value),className:"w-full"}),(0,f.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,f.jsx)("span",{children:"75"}),(0,f.jsx)("span",{className:"font-medium",children:g.lifeExpectancy}),(0,f.jsx)("span",{children:"105"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Monthly Retirement Income Needed"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,f.jsx)("input",{type:"number",value:g.desiredMonthlyIncome,onChange:e=>b("desiredMonthlyIncome",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Today's dollars (will be adjusted for inflation)"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Current Monthly Savings Rate"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,f.jsx)("input",{type:"number",value:g.monthlySavingsRate,onChange:e=>b("monthlySavingsRate",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Expected CPF LIFE Monthly Payout"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,f.jsx)("input",{type:"number",value:g.cpfLifePayout,onChange:e=>b("cpfLifePayout",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Estimated monthly payout from CPF LIFE"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Additional Monthly Income Source"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,f.jsx)("input",{type:"number",value:g.additionalIncomeSource,onChange:e=>b("additionalIncomeSource",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Rental income, part-time work, etc."})]})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-medium text-blue-700 border-b pb-2 mb-4",children:"Advanced Settings"}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Inflation Rate (%)"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("input",{type:"number",value:g.inflationRate,onChange:e=>b("inflationRate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",step:"0.1"}),(0,f.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"%"})})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Long-term inflation rate (2-3% is typical)"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Pre-Retirement Investment Return (%)"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("input",{type:"number",value:g.investmentReturnPreRetirement,onChange:e=>b("investmentReturnPreRetirement",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",step:"0.1"}),(0,f.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"%"})})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Expected annual return before retirement"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Post-Retirement Investment Return (%)"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("input",{type:"number",value:g.investmentReturnPostRetirement,onChange:e=>b("investmentReturnPostRetirement",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",step:"0.1"}),(0,f.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,f.jsx)("span",{className:"text-gray-500",children:"%"})})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Expected annual return during retirement (typically more conservative)"})]}),(0,f.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,f.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Retirement Calculator Metrics"}),(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsx)("div",{className:"text-sm text-gray-700",children:"Years to Retirement:"}),(0,f.jsxs)("div",{className:"text-sm text-gray-700 font-medium",children:[g.retirementAge-g.currentAge," years"]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsx)("div",{className:"text-sm text-gray-700",children:"Retirement Duration:"}),(0,f.jsxs)("div",{className:"text-sm text-gray-700 font-medium",children:[g.lifeExpectancy-g.retirementAge," years"]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsx)("div",{className:"text-sm text-gray-700",children:"Savings at Retirement:"}),(0,f.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:v(k.projectedSavings)})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsx)("div",{className:"text-sm text-gray-700",children:"Target Nest Egg Needed:"}),(0,f.jsx)("div",{className:"text-sm font-medium ".concat(k.shortfall>0?"text-red-600":"text-green-600"),children:v(k.projectedSavings+k.shortfall)})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsx)("div",{className:"text-sm text-gray-700",children:"Projected Shortfall:"}),(0,f.jsx)("div",{className:"text-sm font-medium ".concat(k.shortfall>0?"text-red-600":"text-green-600"),children:k.shortfall>0?v(k.shortfall):"No Shortfall"})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsx)("div",{className:"text-sm text-gray-700",children:"Monthly Income in Retirement:"}),(0,f.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:v((null===(e=N.find(e=>e.age===g.retirementAge))||void 0===e?void 0:e.monthlyIncome)||0)})]})]})]})]})]})]})]}),(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Retirement Savings Projection"}),(0,f.jsx)("div",{className:"h-96 mb-4",children:(0,f.jsx)(i.u,{width:"100%",height:"100%",children:(0,f.jsxs)(l.Q,{data:w,margin:{top:20,right:30,left:20,bottom:5},children:[(0,f.jsx)(o.d,{strokeDasharray:"3 3"}),(0,f.jsx)(c.W,{dataKey:"year"}),(0,f.jsx)(d.h,{tickFormatter:e=>v(e)}),(0,f.jsx)(m.m,{formatter:e=>v(e)}),(0,f.jsx)(x.s,{}),(0,f.jsx)(h.e,{x:k.retirementYear,stroke:"red",label:{value:"Retirement",position:"top",fill:"red"}}),(0,f.jsx)(u.G,{type:"monotone",dataKey:"savingsBalance",name:"Savings",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),(0,f.jsx)(u.G,{type:"monotone",dataKey:"cpfBalance",name:"CPF Balance",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.3}),(0,f.jsx)(u.G,{type:"monotone",dataKey:"targetNeeded",name:"Target Needed",stroke:"#ff7300",fill:"#ff7300",fillOpacity:.1})]})})}),(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Retirement Savings Ratio"}),(0,f.jsx)("div",{className:"h-64 mb-4",children:(0,f.jsx)(i.u,{width:"100%",height:"100%",children:(0,f.jsxs)(j,{data:w,margin:{top:5,right:30,left:20,bottom:5},children:[(0,f.jsx)(o.d,{strokeDasharray:"3 3"}),(0,f.jsx)(c.W,{dataKey:"year"}),(0,f.jsx)(d.h,{tickFormatter:e=>"".concat((100*e).toFixed(0),"%"),domain:[0,Math.max(1.5,Math.ceil(10*Math.max(...w.map(e=>e.savingsRatio)))/10)]}),(0,f.jsx)(m.m,{formatter:e=>"".concat((100*e).toFixed(0),"%")}),(0,f.jsx)(x.s,{}),(0,f.jsx)(h.e,{x:k.retirementYear,stroke:"red",label:{value:"Retirement",position:"top",fill:"red"}}),(0,f.jsx)(h.e,{y:1,stroke:"green",strokeDasharray:"3 3",label:{value:"100% Funded",position:"right"}}),(0,f.jsx)(y.N,{type:"monotone",dataKey:"savingsRatio",name:"Funding Ratio",stroke:"#ff7300",activeDot:{r:8}})]})})}),(0,f.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 mt-6",children:[(0,f.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"Retirement Planning Tips"}),(0,f.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,f.jsxs)("li",{className:"flex items-start",children:[(0,f.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("span",{children:"Aim to save at least 20% of your income for retirement."})]}),(0,f.jsxs)("li",{className:"flex items-start",children:[(0,f.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("span",{children:"Consider diversifying your investments to balance growth and risk."})]}),(0,f.jsxs)("li",{className:"flex items-start",children:[(0,f.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("span",{children:"As you approach retirement, shift to more conservative investments to protect your savings."})]}),(0,f.jsxs)("li",{className:"flex items-start",children:[(0,f.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("span",{children:"Consider maximizing your CPF contributions to take advantage of the guaranteed interest rates."})]}),(0,f.jsxs)("li",{className:"flex items-start",children:[(0,f.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("span",{children:"Review your retirement plan annually and adjust as your life circumstances change."})]})]})]})]})]})}}}]);
//# sourceMappingURL=727.24db4732.chunk.js.map