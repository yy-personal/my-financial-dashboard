{"version":3,"file":"static/js/753.c754b88a.chunk.js","mappings":"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","sources":["components/common/Card/Card.js","components/common/Card/index.js","services/formatters/currencyFormatters.js","components/dashboard/ExpenseBreakdown/index.js","components/dashboard/ExpenseBreakdown/ExpenseBreakdown.js","components/charts/NetWorthChart/NetWorthChart.js","components/charts/SavingsGrowthChart/SavingsGrowthChart.js","components/charts/CashFlowChart/CashFlowChart.js","hooks/useUIPreferences.js","components/charts/CpfGrowthChart/CpfGrowthChart.js","services/calculations/cpf/cpf-utilities.js","hooks/useCpfCalculator.js","components/CpfCalculator.js","components/CpfDashboard.js","components/dashboard/CashFlowTiming/index.js","components/dashboard/CashFlowTiming/CashFlowTiming.js","components/dashboard/UpcomingSpending/UpcomingSpending.js","components/charts/YearlyExpenseBreakdown.js","components/charts/ConsolidatedExpenseBreakdown.js","hooks/useErrorHandler.js","hooks/useIntraMonthCashFlow.js","pages/Dashboard.js"],"sourcesContent":["import React, { memo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Card component for consistent styling across the application\r\n * \r\n * @param {Object} props - Component props\r\n * @param {React.ReactNode} props.children - Child elements to render inside the card\r\n * @param {string} [props.title] - Optional card title\r\n * @param {string} [props.className=\"\"] - Additional CSS classes\r\n * @param {string} [props.titleColor=\"bg-blue-600\"] - Background color for the title area\r\n * @returns {JSX.Element}\r\n */\r\nconst Card = ({ children, title, className = \"\", titleColor = \"bg-blue-600\" }) => (\r\n  <div className={`bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden ${className}`}>\r\n    {title && (\r\n      <div className={`${titleColor} px-6 py-4`}>\r\n        <h2 className=\"text-lg font-semibold text-white\">{title}</h2>\r\n      </div>\r\n    )}\r\n    <div className=\"p-6\">{children}</div>\r\n  </div>\r\n);\r\n\r\nCard.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  title: PropTypes.string,\r\n  className: PropTypes.string,\r\n  titleColor: PropTypes.string,\r\n};\r\n\r\nexport default memo(Card);\r\n","import Card from './Card';\r\n\r\nexport default Card;\r\n","/**\r\n * Format a number as a currency string (SGD)\r\n * \r\n * @param {number} value - The number to format\r\n * @returns {string} - Formatted currency string\r\n */\r\nexport const formatCurrency = (value) => {\r\n  return new Intl.NumberFormat(\"en-SG\", {\r\n    style: \"currency\",\r\n    currency: \"SGD\",\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n  }).format(value);\r\n};\r\n\r\n/**\r\n * Format a number as a percentage\r\n * \r\n * @param {number} value - The decimal value to format (e.g., 0.1 for 10%)\r\n * @returns {string} - Formatted percentage string\r\n */\r\nexport const formatPercent = (value) => {\r\n  return new Intl.NumberFormat(\"en-SG\", {\r\n    style: \"percent\",\r\n    minimumFractionDigits: 1,\r\n    maximumFractionDigits: 1,\r\n  }).format(value);\r\n};\r\n","import ExpenseBreakdown from './ExpenseBreakdown';\r\n\r\nexport default ExpenseBreakdown;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Tooltip } from \"recharts\";\r\nimport Card from \"../../common/Card\";\r\nimport { formatCurrency } from \"../../../services/formatters/currencyFormatters\";\r\n\r\n/**\r\n * ExpenseBreakdown Component\r\n * Displays a breakdown of monthly expenses with a table and pie chart visualization\r\n *\r\n * @param {Object} props - Component props\r\n * @param {Array} props.expenseData - Array of expense objects with name and value\r\n * @param {number} props.totalExpenses - Sum of all expenses\r\n * @returns {JSX.Element}\r\n */\r\nconst ExpenseBreakdown = ({ expenseData, totalExpenses }) => {\r\n  // Colors for pie chart\r\n  const COLORS = [\r\n    \"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#8884d8\", \r\n    \"#82ca9d\", \"#ffc658\", \"#ff7300\", \"#ff0000\", \"#B10DC9\",\r\n    \"#FF851B\", \"#85144b\", \"#3D9970\", \"#2ECC40\", \"#01FF70\"\r\n  ];\r\n\r\n  return (\r\n    <Card title=\"Monthly Expense Breakdown\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Expense Table */}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead>\r\n              <tr className=\"bg-gray-50\">\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Category\r\n                </th>\r\n                <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Amount\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {expenseData.map((expense, index) => (\r\n                <tr key={index} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                    {expense.name}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-sm text-gray-700 text-right\">\r\n                    {formatCurrency(expense.value)}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              <tr className=\"bg-blue-50\">\r\n                <td className=\"px-4 py-3 text-sm font-medium text-blue-700\">\r\n                  Total\r\n                </td>\r\n                <td className=\"px-4 py-3 text-sm font-medium text-blue-700 text-right\">\r\n                  {formatCurrency(totalExpenses)}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Expense Pie Chart */}\r\n        <div className=\"h-64 md:h-80\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <PieChart>\r\n              <Pie\r\n                data={expenseData}\r\n                dataKey=\"value\"\r\n                nameKey=\"name\"\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius=\"70%\"\r\n                fill=\"#8884d8\"\r\n                labelLine={false}\r\n                label={({ name, percent }) =>\r\n                  `${name}: ${(percent * 100).toFixed(0)}%`\r\n                }\r\n              >\r\n                {expenseData.map((entry, index) => (\r\n                  <Cell\r\n                    key={`cell-${index}`}\r\n                    fill={COLORS[index % COLORS.length]}\r\n                  />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip formatter={(value) => formatCurrency(value)} />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nExpenseBreakdown.propTypes = {\r\n  expenseData: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      name: PropTypes.string.isRequired,\r\n      value: PropTypes.number.isRequired\r\n    })\r\n  ).isRequired,\r\n  totalExpenses: PropTypes.number.isRequired\r\n};\r\n\r\nexport default ExpenseBreakdown;","import React, { memo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  ComposedChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  ReferenceLine\r\n} from \"recharts\";\r\nimport Card from \"../../common/Card\";\r\nimport { formatCurrency } from \"../../../services/formatters/currencyFormatters\";\r\n\r\n/**\r\n * NetWorthChart Component\r\n * Displays a chart showing the growth of net worth over time, including cash savings and CPF balance\r\n *\r\n * @param {Object} props - Component props\r\n * @param {Array} props.chartData - Filtered projection data points for the chart\r\n * @param {Object} props.savingsGoalReachedMonth - Month when 100K savings goal is reached (or null)\r\n * @returns {JSX.Element}\r\n */\r\nconst NetWorthChart = ({ chartData, savingsGoalReachedMonth }) => {\r\n  return (\r\n    <Card title=\"Net Worth Growth\" titleColor=\"bg-blue-600\">\r\n      <div className=\"h-80\">\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <ComposedChart\r\n            data={chartData}\r\n            margin={{\r\n              top: 10,\r\n              right: 10,\r\n              left: 0,\r\n              bottom: 20,\r\n            }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis\r\n              dataKey=\"date\"\r\n              angle={-45}\r\n              textAnchor=\"end\"\r\n              height={60}\r\n              tick={{ fontSize: 12 }}\r\n            />\r\n            <YAxis\r\n              yAxisId=\"left\"\r\n              tickFormatter={(value) => formatCurrency(value)}\r\n              width={70}\r\n              label={{\r\n                value: \"Savings\",\r\n                angle: -90,\r\n                position: \"insideLeft\",\r\n                offset: 10,\r\n              }}\r\n            />\r\n            <Tooltip formatter={(value) => formatCurrency(value)} />\r\n            <Legend />\r\n            <Area\r\n              yAxisId=\"left\"\r\n              type=\"monotone\"\r\n              dataKey=\"cashSavings\"\r\n              name=\"Cash Savings\"\r\n              stroke=\"#2FD87B\"\r\n              fill=\"#2FD87B\"\r\n              fillOpacity={0.3}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n            <Area\r\n              yAxisId=\"left\"\r\n              type=\"monotone\"\r\n              dataKey=\"cpfBalance\"\r\n              name=\"CPF Balance (Locked)\"\r\n              stroke=\"#82ca9d\"\r\n              fill=\"#82ca9d\"\r\n              fillOpacity={0.3}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n            {savingsGoalReachedMonth && (\r\n              <ReferenceLine\r\n                yAxisId=\"left\"\r\n                x={savingsGoalReachedMonth.date}\r\n                stroke=\"blue\"\r\n                strokeDasharray=\"3 3\"\r\n                label={{\r\n                  value: \"$100K Savings\",\r\n                  position: \"top\",\r\n                  fill: \"blue\",\r\n                }}\r\n              />\r\n            )}\r\n          </ComposedChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n          <h3 className=\"font-medium text-blue-800 mb-2\">\r\n            Savings Growth\r\n          </h3>\r\n          <p className=\"text-sm\">\r\n            {savingsGoalReachedMonth\r\n              ? `You'll reach $100K in cash savings by ${savingsGoalReachedMonth.date}`\r\n              : `Your cash savings will grow over the projection period`}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nNetWorthChart.propTypes = {\r\n  chartData: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  savingsGoalReachedMonth: PropTypes.object\r\n};\r\n\r\nexport default memo(NetWorthChart);","import React, { memo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  ReferenceLine\r\n} from \"recharts\";\r\nimport Card from \"../../common/Card\";\r\nimport { formatCurrency } from \"../../../services/formatters/currencyFormatters\";\r\n\r\n/**\r\n * SavingsGrowthChart Component\r\n * Displays a chart showing the growth of savings over time\r\n * \r\n * @param {Object} props - Component props\r\n * @param {Array} props.chartData - Filtered projection data points for the chart\r\n * @param {Object} props.savingsGoalReachedMonth - Month when 100K savings goal is reached (or null)\r\n * @returns {JSX.Element}\r\n */\r\nconst SavingsGrowthChart = ({ chartData, savingsGoalReachedMonth }) => {\r\n  return (\r\n    <Card title=\"Savings Growth Projection\" titleColor=\"bg-green-600\">\r\n      <div className=\"h-80\">\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <AreaChart\r\n            data={chartData}\r\n            margin={{\r\n              top: 10,\r\n              right: 10,\r\n              left: 0,\r\n              bottom: 20,\r\n            }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis\r\n              dataKey=\"date\"\r\n              angle={-45}\r\n              textAnchor=\"end\"\r\n              height={60}\r\n              tick={{ fontSize: 12 }}\r\n            />\r\n            <YAxis\r\n              tickFormatter={(value) => formatCurrency(value)}\r\n              width={70}\r\n            />\r\n            <Tooltip formatter={(value) => formatCurrency(value)} />\r\n            <Legend />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"cashSavings\"\r\n              name=\"Cash Savings\"\r\n              stroke=\"#2FD87B\"\r\n              fill=\"#2FD87B\"\r\n              fillOpacity={0.3}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"cpfBalance\"\r\n              name=\"CPF Balance\"\r\n              stroke=\"#8884d8\"\r\n              fill=\"#8884d8\"\r\n              fillOpacity={0.3}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"totalNetWorth\"\r\n              name=\"Total Net Worth\"\r\n              stroke=\"#0088FE\"\r\n              fill=\"#0088FE\"\r\n              fillOpacity={0.1}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n            {savingsGoalReachedMonth && (\r\n              <ReferenceLine\r\n                x={savingsGoalReachedMonth.date}\r\n                stroke=\"green\"\r\n                strokeDasharray=\"3 3\"\r\n                label={{\r\n                  value: \"$100K Savings Goal\",\r\n                  position: \"top\",\r\n                  fill: \"green\",\r\n                }}\r\n              />\r\n            )}\r\n            <ReferenceLine\r\n              y={100000}\r\n              stroke=\"blue\"\r\n              strokeDasharray=\"3 3\"\r\n              label={{\r\n                value: \"$100K\",\r\n                position: \"right\",\r\n                fill: \"blue\",\r\n              }}\r\n            />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n      <div className=\"mt-4 p-3 bg-green-50 rounded-lg\">\r\n        <h3 className=\"font-medium text-green-800 mb-2\">\r\n          Savings Milestone\r\n        </h3>\r\n        <p className=\"text-sm\">\r\n          {savingsGoalReachedMonth\r\n            ? `You'll reach $100K in cash savings by ${savingsGoalReachedMonth.date}`\r\n            : `Keep working towards your $100K cash savings goal`}\r\n        </p>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nSavingsGrowthChart.propTypes = {\r\n  chartData: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  savingsGoalReachedMonth: PropTypes.object\r\n};\r\n\r\nexport default memo(SavingsGrowthChart);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\nimport Card from \"../../common/Card\";\r\nimport { formatCurrency } from \"../../../services/formatters/currencyFormatters\";\r\n\r\n/**\r\n * CashFlowChart Component\r\n * Displays a chart showing the monthly cash flow breakdown\r\n * \r\n * @param {Object} props - Component props\r\n * @param {Array} props.chartData - Filtered projection data points for the chart\r\n * @returns {JSX.Element}\r\n */\r\nconst CashFlowChart = ({ chartData }) => {\r\n  // Use only the first 6 months of data for the bar chart\r\n  const limitedData = chartData.slice(0, 6);\r\n  \r\n  return (\r\n    <Card title=\"Monthly Cash Flow\" titleColor=\"bg-blue-600\">\r\n      <div className=\"h-80\">\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <BarChart\r\n            data={limitedData}\r\n            margin={{\r\n              top: 10,\r\n              right: 10,\r\n              left: 0,\r\n              bottom: 20,\r\n            }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis\r\n              dataKey=\"date\"\r\n              angle={-45}\r\n              textAnchor=\"end\"\r\n              height={60}\r\n              tick={{ fontSize: 12 }}\r\n            />\r\n            <YAxis\r\n              tickFormatter={(value) => formatCurrency(value)}\r\n              width={70}\r\n            />\r\n            <Tooltip formatter={(value) => formatCurrency(value)} />\r\n            <Legend />\r\n            <Bar\r\n              dataKey=\"takeHomePay\"\r\n              name=\"Take-Home Pay\"\r\n              fill=\"#8884d8\"\r\n            />\r\n            <Bar\r\n              dataKey=\"expenses\"\r\n              name=\"Living Expenses\"\r\n              fill=\"#ff7300\"\r\n            />\r\n            <Bar\r\n              dataKey=\"monthlySavings\"\r\n              name=\"Cash Savings\"\r\n              fill=\"#82ca9d\"\r\n            />\r\n            <Bar\r\n              dataKey=\"totalCpfContribution\"\r\n              name=\"CPF Contributions\"\r\n              fill=\"#9370DB\"\r\n            />\r\n            <Bar\r\n              dataKey=\"bonusAmount\"\r\n              name=\"Bonuses\"\r\n              fill=\"#2ECC40\"\r\n            />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n      <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\r\n        <h3 className=\"font-medium text-blue-800 mb-2\">\r\n          Cash Flow Breakdown\r\n        </h3>\r\n        <p className=\"text-sm\">\r\n          This chart shows your monthly cash flow for the next 6 months, including income, expenses, and savings.\r\n        </p>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nCashFlowChart.propTypes = {\r\n  chartData: PropTypes.arrayOf(PropTypes.object).isRequired\r\n};\r\n\r\nexport default CashFlowChart;","import { useState, useEffect, useCallback } from \"react\";\r\n\r\n/**\r\n * useUIPreferences hook\r\n * Manages UI preferences including theme, chart colors, and display settings\r\n * \r\n * @returns {Object} UI preferences and functions to update them\r\n */\r\nconst useUIPreferences = () => {\r\n  // Initialize from localStorage if available, otherwise use defaults\r\n  const [theme, setTheme] = useState(() => {\r\n    const savedTheme = localStorage.getItem(\"uiTheme\");\r\n    return savedTheme || \"light\";\r\n  });\r\n\r\n  const [chartColors, setChartColors] = useState(() => {\r\n    const savedColors = localStorage.getItem(\"chartColors\");\r\n    return savedColors \r\n      ? JSON.parse(savedColors) \r\n      : {\r\n          primary: \"#0088FE\",\r\n          secondary: \"#00C49F\",\r\n          tertiary: \"#FFBB28\",\r\n          quaternary: \"#FF8042\",\r\n          danger: \"#FF0000\",\r\n          success: \"#00C853\",\r\n          warning: \"#FFB300\"\r\n        };\r\n  });\r\n\r\n  const [compactMode, setCompactMode] = useState(() => {\r\n    const savedMode = localStorage.getItem(\"compactMode\");\r\n    return savedMode === \"true\";\r\n  });\r\n\r\n  const [currencyFormat, setCurrencyFormat] = useState(() => {\r\n    const savedFormat = localStorage.getItem(\"currencyFormat\");\r\n    return savedFormat || \"USD\";\r\n  });\r\n\r\n  const [dateFormat, setDateFormat] = useState(() => {\r\n    const savedFormat = localStorage.getItem(\"dateFormat\");\r\n    return savedFormat || \"MMM yyyy\"; // Default format (e.g., \"Jan 2023\")\r\n  });\r\n\r\n  // Update theme\r\n  const toggleTheme = useCallback(() => {\r\n    setTheme(prevTheme => {\r\n      const newTheme = prevTheme === \"light\" ? \"dark\" : \"light\";\r\n      localStorage.setItem(\"uiTheme\", newTheme);\r\n      return newTheme;\r\n    });\r\n  }, []);\r\n\r\n  // Update specific chart color\r\n  const updateChartColor = useCallback((colorKey, newColor) => {\r\n    setChartColors(prevColors => {\r\n      const updatedColors = { ...prevColors, [colorKey]: newColor };\r\n      localStorage.setItem(\"chartColors\", JSON.stringify(updatedColors));\r\n      return updatedColors;\r\n    });\r\n  }, []);\r\n\r\n  // Reset chart colors to defaults\r\n  const resetChartColors = useCallback(() => {\r\n    const defaultColors = {\r\n      primary: \"#0088FE\",\r\n      secondary: \"#00C49F\",\r\n      tertiary: \"#FFBB28\",\r\n      quaternary: \"#FF8042\",\r\n      danger: \"#FF0000\",\r\n      success: \"#00C853\",\r\n      warning: \"#FFB300\"\r\n    };\r\n    \r\n    setChartColors(defaultColors);\r\n    localStorage.setItem(\"chartColors\", JSON.stringify(defaultColors));\r\n  }, []);\r\n\r\n  // Toggle compact mode\r\n  const toggleCompactMode = useCallback(() => {\r\n    setCompactMode(prev => {\r\n      const newMode = !prev;\r\n      localStorage.setItem(\"compactMode\", String(newMode));\r\n      return newMode;\r\n    });\r\n  }, []);\r\n\r\n  // Update currency format\r\n  const updateCurrencyFormat = useCallback((format) => {\r\n    setCurrencyFormat(format);\r\n    localStorage.setItem(\"currencyFormat\", format);\r\n  }, []);\r\n\r\n  // Update date format\r\n  const updateDateFormat = useCallback((format) => {\r\n    setDateFormat(format);\r\n    localStorage.setItem(\"dateFormat\", format);\r\n  }, []);\r\n\r\n  // Apply theme to document\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute('data-theme', theme);\r\n    \r\n    // Apply additional CSS variables for theme colors\r\n    if (theme === 'dark') {\r\n      document.documentElement.style.setProperty('--bg-primary', '#121212');\r\n      document.documentElement.style.setProperty('--bg-secondary', '#1e1e1e');\r\n      document.documentElement.style.setProperty('--text-primary', '#ffffff');\r\n      document.documentElement.style.setProperty('--text-secondary', '#b3b3b3');\r\n    } else {\r\n      document.documentElement.style.setProperty('--bg-primary', '#ffffff');\r\n      document.documentElement.style.setProperty('--bg-secondary', '#f5f5f5');\r\n      document.documentElement.style.setProperty('--text-primary', '#333333');\r\n      document.documentElement.style.setProperty('--text-secondary', '#666666');\r\n    }\r\n  }, [theme]);\r\n\r\n  // Get color palette for charts based on current theme and preferences\r\n  const getChartColorPalette = useCallback(() => {\r\n    // Create an array of colors for charts\r\n    const baseColors = [\r\n      chartColors.primary,\r\n      chartColors.secondary,\r\n      chartColors.tertiary,\r\n      chartColors.quaternary,\r\n      // Add additional colors based on theme\r\n      theme === 'dark' ? '#9370DB' : '#8884d8',\r\n      theme === 'dark' ? '#20B2AA' : '#82ca9d', \r\n      theme === 'dark' ? '#CD853F' : '#ffc658',\r\n      theme === 'dark' ? '#4682B4' : '#8dd1e1'\r\n    ];\r\n    \r\n    return baseColors;\r\n  }, [theme, chartColors]);\r\n\r\n  // Format currency based on current preferences\r\n  const formatCurrency = useCallback((amount) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: currencyFormat,\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(amount);\r\n  }, [currencyFormat]);\r\n\r\n  return {\r\n    theme,\r\n    chartColors,\r\n    compactMode,\r\n    currencyFormat,\r\n    dateFormat,\r\n    toggleTheme,\r\n    updateChartColor,\r\n    resetChartColors,\r\n    toggleCompactMode,\r\n    updateCurrencyFormat,\r\n    updateDateFormat,\r\n    getChartColorPalette,\r\n    formatCurrency,\r\n    isDarkMode: theme === 'dark'\r\n  };\r\n};\r\n\r\nexport default useUIPreferences;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  ReferenceLine\r\n} from \"recharts\";\r\nimport { formatCurrency } from \"../../../services/formatters/currencyFormatters\";\r\nimport useUIPreferences from \"../../../hooks/useUIPreferences\";\r\n\r\n/**\r\n * CpfGrowthChart Component\r\n * Displays a chart showing the growth of CPF savings over time\r\n * \r\n * @param {Object} props - Component props\r\n * @param {Array} props.chartData - Filtered projection data points for the chart\r\n * @param {Object} props.cpfMilestone - Month when CPF milestone is reached (optional)\r\n * @returns {JSX.Element}\r\n */\r\nconst CpfGrowthChart = ({ chartData, cpfMilestone }) => {\r\n  const { getChartColorPalette } = useUIPreferences();\r\n  const colors = getChartColorPalette();\r\n  \r\n  // Use the secondary color from the palette for CPF\r\n  const cpfColor = colors[1]; // Using the secondary color from the palette\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow\">\r\n      <div className=\"bg-green-600 px-4 py-3\">\r\n        <h2 className=\"text-lg font-semibold text-white\">Projected CPF Growth</h2>\r\n      </div>\r\n      <div className=\"p-4\">\r\n        <div className=\"h-80\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <AreaChart\r\n              data={chartData}\r\n              margin={{\r\n                top: 10,\r\n                right: 10,\r\n                left: 0,\r\n                bottom: 20,\r\n              }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis\r\n                dataKey=\"date\"\r\n                angle={-45}\r\n                textAnchor=\"end\"\r\n                height={60}\r\n                tick={{ fontSize: 12, fill: '#374151' }}\r\n              />\r\n              <YAxis\r\n                tickFormatter={(value) => formatCurrency(value)}\r\n                width={70}\r\n                tick={{ fill: '#374151' }}\r\n              />\r\n              <Tooltip \r\n                formatter={(value) => formatCurrency(value)}\r\n                contentStyle={{ \r\n                  backgroundColor: '#ffffff',\r\n                  color: '#374151',\r\n                  border: '1px solid #e5e7eb'\r\n                }}\r\n                labelStyle={{\r\n                  color: '#374151'\r\n                }}\r\n              />\r\n              <Legend\r\n                wrapperStyle={{\r\n                  color: '#374151'\r\n                }}\r\n              />\r\n              <Area\r\n                type=\"monotone\"\r\n                dataKey=\"cpfBalance\"\r\n                name=\"CPF Balance\"\r\n                stroke={cpfColor}\r\n                fill={cpfColor}\r\n                fillOpacity={0.3}\r\n                activeDot={{ r: 6 }}\r\n              />\r\n              {cpfMilestone && (\r\n                <ReferenceLine\r\n                  x={cpfMilestone.date}\r\n                  stroke=\"green\"\r\n                  strokeDasharray=\"3 3\"\r\n                  label={{\r\n                    value: `CPF ${formatCurrency(cpfMilestone.amount)}`,\r\n                    position: \"top\",\r\n                    fill: 'green',\r\n                  }}\r\n                />\r\n              )}\r\n            </AreaChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n        <div className=\"mt-4 bg-green-50 p-3 rounded-lg\">\r\n          <h3 className=\"font-medium text-green-800 mb-2\">\r\n            CPF Growth\r\n          </h3>\r\n          <p className=\"text-sm text-green-600\">\r\n            {cpfMilestone\r\n              ? `Your CPF savings are projected to reach ${formatCurrency(cpfMilestone.amount)} by ${cpfMilestone.date}`\r\n              : `Your CPF savings will continue to grow with regular contributions and interest`}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCpfGrowthChart.propTypes = {\r\n  chartData: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  cpfMilestone: PropTypes.object\r\n};\r\n\r\nexport default CpfGrowthChart;","/**\r\n * CPF Calculation Utilities\r\n * \r\n * This module provides utilities for calculating CPF contributions based on\r\n * Singapore's CPF contribution rates as of 2025.\r\n */\r\n\r\n/**\r\n * Supported employee types for CPF calculations\r\n */\r\nexport const EMPLOYEE_TYPE = {\r\n  SINGAPOREAN: 'singaporean',\r\n  PR_FIRST_YEAR: 'pr_first_year',\r\n  PR_SECOND_YEAR: 'pr_second_year',\r\n  PR_THIRD_YEAR_ONWARDS: 'pr_third_year_onwards',\r\n};\r\n\r\n/**\r\n * CPF contribution rates for Singaporean Citizens based on age\r\n * \r\n * Format: [employeeContributionRate, employerContributionRate]\r\n */\r\nconst CITIZEN_RATES = {\r\n  '55_and_below': [0.20, 0.17],\r\n  '55_to_60': [0.15, 0.15],\r\n  '60_to_65': [0.105, 0.095],\r\n  '65_to_70': [0.075, 0.075],\r\n  'above_70': [0.05, 0.05],\r\n};\r\n\r\n/**\r\n * CPF contribution rates for 1st year Permanent Residents\r\n */\r\nconst PR_FIRST_YEAR_RATES = {\r\n  '55_and_below': [0.05, 0.15],\r\n  '55_to_60': [0.05, 0.15],\r\n  '60_to_65': [0.05, 0.085],\r\n  '65_to_70': [0.05, 0.065],\r\n  'above_70': [0.05, 0.045],\r\n};\r\n\r\n/**\r\n * CPF contribution rates for 2nd year Permanent Residents\r\n */\r\nconst PR_SECOND_YEAR_RATES = {\r\n  '55_and_below': [0.15, 0.15],\r\n  '55_to_60': [0.15, 0.15],\r\n  '60_to_65': [0.085, 0.085],\r\n  '65_to_70': [0.06, 0.065],\r\n  'above_70': [0.05, 0.045],\r\n};\r\n\r\n/**\r\n * CPF contribution rates for 3rd year onwards Permanent Residents\r\n */\r\nconst PR_THIRD_YEAR_ONWARDS_RATES = {\r\n  '55_and_below': [0.20, 0.17],\r\n  '55_to_60': [0.15, 0.15],\r\n  '60_to_65': [0.095, 0.095],\r\n  '65_to_70': [0.075, 0.075],\r\n  'above_70': [0.05, 0.05],\r\n};\r\n\r\n/**\r\n * CPF salary ceiling constants\r\n */\r\nconst OW_CEILING = 6000; // Ordinary Wage Ceiling\r\nconst AW_CEILING = 102000; // Additional Wage Ceiling\r\n\r\n/**\r\n * Get age bracket for CPF contribution rates\r\n * \r\n * @param {number} age - Employee's age\r\n * @returns {string} Age bracket key\r\n */\r\nexport const getAgeBracket = (age) => {\r\n  if (age <= 55) return '55_and_below';\r\n  if (age <= 60) return '55_to_60';\r\n  if (age <= 65) return '60_to_65';\r\n  if (age <= 70) return '65_to_70';\r\n  return 'above_70';\r\n};\r\n\r\n/**\r\n * Get CPF contribution rates based on employee type and age\r\n * \r\n * @param {string} employeeType - Type of employee (from EMPLOYEE_TYPE)\r\n * @param {number} age - Employee's age\r\n * @returns {Array} [employeeContributionRate, employerContributionRate]\r\n */\r\nexport const getCpfRates = (employeeType, age) => {\r\n  const ageBracket = getAgeBracket(age);\r\n  \r\n  switch (employeeType) {\r\n    case EMPLOYEE_TYPE.SINGAPOREAN:\r\n      return CITIZEN_RATES[ageBracket];\r\n    case EMPLOYEE_TYPE.PR_FIRST_YEAR:\r\n      return PR_FIRST_YEAR_RATES[ageBracket];\r\n    case EMPLOYEE_TYPE.PR_SECOND_YEAR:\r\n      return PR_SECOND_YEAR_RATES[ageBracket];\r\n    case EMPLOYEE_TYPE.PR_THIRD_YEAR_ONWARDS:\r\n      return PR_THIRD_YEAR_ONWARDS_RATES[ageBracket];\r\n    default:\r\n      throw new Error(`Invalid employee type: ${employeeType}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Calculate CPF contribution amounts based on salary and employee details\r\n * \r\n * @param {number} salary - Monthly salary\r\n * @param {string} employeeType - Type of employee (from EMPLOYEE_TYPE)\r\n * @param {number} age - Employee's age\r\n * @param {number} additionalWage - Additional wage for the year (e.g., bonus)\r\n * @param {number} totalOrdinaryWageForYear - Total ordinary wage for the year so far\r\n * @returns {Object} Object containing employee and employer contributions\r\n */\r\nexport const calculateCpfContributions = (\r\n  salary,\r\n  employeeType = EMPLOYEE_TYPE.SINGAPOREAN,\r\n  age = 30,\r\n  additionalWage = 0,\r\n  totalOrdinaryWageForYear = 0\r\n) => {\r\n  try {\r\n    // Get applicable rates\r\n    const [employeeRate, employerRate] = getCpfRates(employeeType, age);\r\n    \r\n    // Apply wage ceiling for ordinary wage (monthly salary)\r\n    const cappedSalary = Math.min(salary, OW_CEILING);\r\n    \r\n    // Calculate ordinary wage contributions\r\n    const employeeContribution = Math.round(cappedSalary * employeeRate * 100) / 100;\r\n    const employerContribution = Math.round(cappedSalary * employerRate * 100) / 100;\r\n    \r\n    // Handle additional wage (e.g., bonus) if provided\r\n    let additionalEmployeeContribution = 0;\r\n    let additionalEmployerContribution = 0;\r\n    \r\n    if (additionalWage > 0) {\r\n      // Calculate remaining allowable additional wage for CPF\r\n      const yearToDateOW = totalOrdinaryWageForYear || (cappedSalary * 12);\r\n      const remainingAWCeiling = Math.max(0, AW_CEILING - yearToDateOW);\r\n      const cappedAdditionalWage = Math.min(additionalWage, remainingAWCeiling);\r\n      \r\n      // Calculate additional wage contributions\r\n      additionalEmployeeContribution = Math.round(cappedAdditionalWage * employeeRate * 100) / 100;\r\n      additionalEmployerContribution = Math.round(cappedAdditionalWage * employerRate * 100) / 100;\r\n    }\r\n    \r\n    // Total contributions\r\n    const totalEmployeeContribution = employeeContribution + additionalEmployeeContribution;\r\n    const totalEmployerContribution = employerContribution + additionalEmployerContribution;\r\n    const totalCpfContribution = totalEmployeeContribution + totalEmployerContribution;\r\n    \r\n    // Calculate take home pay\r\n    const takeHomePay = salary + additionalWage - totalEmployeeContribution;\r\n    \r\n    return {\r\n      employeeContribution: totalEmployeeContribution,\r\n      employerContribution: totalEmployerContribution,\r\n      totalContribution: totalCpfContribution,\r\n      takeHomePay,\r\n      // Include rate details for reference\r\n      rates: {\r\n        employeeRate,\r\n        employerRate\r\n      }\r\n    };\r\n  } catch (error) {\r\n    console.error('Error calculating CPF contributions:', error);\r\n    return {\r\n      employeeContribution: 0,\r\n      employerContribution: 0,\r\n      totalContribution: 0,\r\n      takeHomePay: salary + additionalWage,\r\n      rates: {\r\n        employeeRate: 0,\r\n        employerRate: 0\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Estimate yearly CPF contributions based on monthly salary and bonus months\r\n * \r\n * @param {number} monthlySalary - Monthly salary\r\n * @param {string} employeeType - Type of employee (from EMPLOYEE_TYPE)\r\n * @param {number} age - Employee's age\r\n * @param {number} bonusMonths - Number of months for bonus\r\n * @returns {Object} Object containing yearly CPF contribution totals\r\n */\r\nexport const estimateYearlyCpfContributions = (\r\n  monthlySalary,\r\n  employeeType = EMPLOYEE_TYPE.SINGAPOREAN,\r\n  age = 30,\r\n  bonusMonths = 0\r\n) => {\r\n  // Calculate monthly CPF contribution\r\n  const monthlyContribution = calculateCpfContributions(\r\n    monthlySalary, \r\n    employeeType, \r\n    age\r\n  );\r\n  \r\n  // Calculate bonus contribution (if applicable)\r\n  let bonusContribution = { employeeContribution: 0, employerContribution: 0, totalContribution: 0 };\r\n  \r\n  if (bonusMonths > 0) {\r\n    const bonusSalary = monthlySalary * bonusMonths;\r\n    const yearToDateOW = Math.min(monthlySalary, OW_CEILING) * 12;\r\n    \r\n    bonusContribution = calculateCpfContributions(\r\n      0, // No ordinary wage\r\n      employeeType,\r\n      age,\r\n      bonusSalary,\r\n      yearToDateOW\r\n    );\r\n  }\r\n  \r\n  // Calculate yearly totals\r\n  const yearlyEmployeeContribution = (monthlyContribution.employeeContribution * 12) + \r\n    bonusContribution.employeeContribution;\r\n  \r\n  const yearlyEmployerContribution = (monthlyContribution.employerContribution * 12) + \r\n    bonusContribution.employerContribution;\r\n  \r\n  const yearlyTotalContribution = yearlyEmployeeContribution + yearlyEmployerContribution;\r\n  \r\n  return {\r\n    yearlyEmployeeContribution,\r\n    yearlyEmployerContribution,\r\n    yearlyTotalContribution,\r\n    monthlyDetails: monthlyContribution,\r\n    bonusDetails: bonusContribution\r\n  };\r\n};\r\n","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { \r\n  calculateCpfContributions, \r\n  estimateYearlyCpfContributions,\r\n  EMPLOYEE_TYPE \r\n} from '../services/calculations/cpf';\r\n\r\n/**\r\n * Custom hook for managing CPF-related calculations and state\r\n * \r\n * This hook provides CPF contribution calculations and management while\r\n * preventing render loops through careful state management and memoization.\r\n * \r\n * @param {Object} initialData - Initial financial data\r\n * @returns {Object} CPF state and utility functions\r\n */\r\nconst useCpfCalculator = (initialData = {}) => {\r\n  // Extract initial values with defaults\r\n  const {\r\n    salary = 0,\r\n    age = 30,\r\n    employeeType = EMPLOYEE_TYPE.SINGAPOREAN,\r\n    bonusMonths = 0,\r\n    annualBonusAmount = 0,\r\n  } = initialData;\r\n\r\n  // State management for input values\r\n  const [cpfInputs, setCpfInputs] = useState({\r\n    salary,\r\n    age,\r\n    employeeType,\r\n    bonusMonths,\r\n    annualBonusAmount\r\n  });\r\n\r\n  // Memoized CPF calculations to prevent unnecessary recalculations\r\n  const cpfResults = useMemo(() => {\r\n    const { salary, age, employeeType, bonusMonths, annualBonusAmount } = cpfInputs;\r\n    \r\n    // Calculate monthly CPF contributions\r\n    const monthlyCpf = calculateCpfContributions(\r\n      salary,\r\n      employeeType,\r\n      age\r\n    );\r\n    \r\n    // Calculate bonus CPF if applicable\r\n    let bonusCpf = { employeeContribution: 0, employerContribution: 0, totalContribution: 0 };\r\n    \r\n    if (annualBonusAmount > 0) {\r\n      const yearToDateOW = Math.min(salary, 6000) * 12;\r\n      bonusCpf = calculateCpfContributions(\r\n        0,\r\n        employeeType,\r\n        age,\r\n        annualBonusAmount,\r\n        yearToDateOW\r\n      );\r\n    } else if (bonusMonths > 0) {\r\n      // Use bonus months if specific bonus amount not provided\r\n      const bonusAmount = salary * bonusMonths;\r\n      const yearToDateOW = Math.min(salary, 6000) * 12;\r\n      \r\n      bonusCpf = calculateCpfContributions(\r\n        0, \r\n        employeeType, \r\n        age, \r\n        bonusAmount, \r\n        yearToDateOW\r\n      );\r\n    }\r\n    \r\n    // Calculate yearly estimates\r\n    const yearlyCpf = estimateYearlyCpfContributions(\r\n      salary,\r\n      employeeType,\r\n      age,\r\n      bonusMonths\r\n    );\r\n    \r\n    return {\r\n      monthly: monthlyCpf,\r\n      bonus: bonusCpf,\r\n      yearly: yearlyCpf,\r\n      takeHomePay: monthlyCpf.takeHomePay,\r\n      totalMonthlyContribution: monthlyCpf.totalContribution,\r\n      employeeContribution: monthlyCpf.employeeContribution,\r\n      employerContribution: monthlyCpf.employerContribution,\r\n      rates: monthlyCpf.rates\r\n    };\r\n  }, [cpfInputs]);\r\n\r\n  // Callback to update specific CPF input values\r\n  // Using callback to maintain reference stability\r\n  const updateCpfInput = useCallback((key, value) => {\r\n    if (typeof key === 'string' && key in cpfInputs) {\r\n      setCpfInputs(prev => ({\r\n        ...prev,\r\n        [key]: value\r\n      }));\r\n    } else if (typeof key === 'object') {\r\n      // Allow batch updates with an object\r\n      setCpfInputs(prev => ({\r\n        ...prev,\r\n        ...key\r\n      }));\r\n    }\r\n  }, [cpfInputs]);\r\n\r\n  // Helper to update salary (common operation)\r\n  const updateSalary = useCallback((newSalary) => {\r\n    updateCpfInput('salary', Number(newSalary));\r\n  }, [updateCpfInput]);\r\n\r\n  // Helper to update employee type\r\n  const updateEmployeeType = useCallback((newType) => {\r\n    if (Object.values(EMPLOYEE_TYPE).includes(newType)) {\r\n      updateCpfInput('employeeType', newType);\r\n    } else {\r\n      console.error(`Invalid employee type: ${newType}`);\r\n    }\r\n  }, [updateCpfInput]);\r\n\r\n  // Reset to initial values\r\n  const resetToDefaults = useCallback(() => {\r\n    setCpfInputs({\r\n      salary: initialData.salary || 0,\r\n      age: initialData.age || 30,\r\n      employeeType: initialData.employeeType || EMPLOYEE_TYPE.SINGAPOREAN,\r\n      bonusMonths: initialData.bonusMonths || 0,\r\n      annualBonusAmount: initialData.annualBonusAmount || 0\r\n    });\r\n  }, [initialData]);\r\n\r\n  // Effect to sync with external data changes\r\n  // Only runs when initialData reference changes to prevent loops\r\n  useEffect(() => {\r\n    if (initialData && typeof initialData === 'object') {\r\n      const updates = {};\r\n      let hasUpdates = false;\r\n\r\n      // Only update values that are provided and different\r\n      if ('salary' in initialData && initialData.salary !== cpfInputs.salary) {\r\n        updates.salary = initialData.salary;\r\n        hasUpdates = true;\r\n      }\r\n      \r\n      if ('age' in initialData && initialData.age !== cpfInputs.age) {\r\n        updates.age = initialData.age;\r\n        hasUpdates = true;\r\n      }\r\n      \r\n      if ('employeeType' in initialData && initialData.employeeType !== cpfInputs.employeeType) {\r\n        updates.employeeType = initialData.employeeType;\r\n        hasUpdates = true;\r\n      }\r\n      \r\n      if ('bonusMonths' in initialData && initialData.bonusMonths !== cpfInputs.bonusMonths) {\r\n        updates.bonusMonths = initialData.bonusMonths;\r\n        hasUpdates = true;\r\n      }\r\n      \r\n      if ('annualBonusAmount' in initialData && initialData.annualBonusAmount !== cpfInputs.annualBonusAmount) {\r\n        updates.annualBonusAmount = initialData.annualBonusAmount;\r\n        hasUpdates = true;\r\n      }\r\n\r\n      // Only update state if there are actual changes\r\n      if (hasUpdates) {\r\n        setCpfInputs(prev => ({\r\n          ...prev,\r\n          ...updates\r\n        }));\r\n      }\r\n    }\r\n  }, [initialData, cpfInputs.salary, cpfInputs.age, cpfInputs.employeeType, cpfInputs.bonusMonths, cpfInputs.annualBonusAmount]);\r\n\r\n  return {\r\n    // Current state\r\n    cpfInputs,\r\n    cpfResults,\r\n    \r\n    // Getters for common values\r\n    employeeContribution: cpfResults.employeeContribution,\r\n    employerContribution: cpfResults.employerContribution,\r\n    totalContribution: cpfResults.totalMonthlyContribution,\r\n    takeHomePay: cpfResults.takeHomePay,\r\n    \r\n    // Monthly, bonus and yearly breakdowns\r\n    monthlyCpf: cpfResults.monthly,\r\n    bonusCpf: cpfResults.bonus,\r\n    yearlyCpf: cpfResults.yearly,\r\n    \r\n    // Rate information for display\r\n    employeeRate: cpfResults.rates.employeeRate,\r\n    employerRate: cpfResults.rates.employerRate,\r\n    \r\n    // Update functions\r\n    updateCpfInput,\r\n    updateSalary,\r\n    updateEmployeeType,\r\n    resetToDefaults,\r\n    \r\n    // Constants for reference\r\n    EMPLOYEE_TYPE,\r\n  };\r\n};\r\n\r\nexport default useCpfCalculator;","import React, { useState } from 'react';\r\nimport useCpfCalculator from '../hooks/useCpfCalculator';\r\n\r\n/**\r\n * CPF Calculator Component\r\n * \r\n * This component provides a user interface for calculating and displaying\r\n * CPF contributions based on salary and other parameters.\r\n */\r\nconst CpfCalculator = ({ initialData = {}, onChange }) => {\r\n  // Initialize with provided data or defaults\r\n  const {\r\n    cpfInputs,\r\n    // cpfResults,\r\n    monthlyCpf,\r\n    bonusCpf,\r\n    yearlyCpf,\r\n    employeeRate,\r\n    employerRate,\r\n    updateCpfInput,\r\n    updateSalary,\r\n    updateEmployeeType,\r\n    EMPLOYEE_TYPE\r\n  } = useCpfCalculator(initialData);\r\n\r\n  // Local UI state\r\n  const [showAdvanced, setShowAdvanced] = useState(false);\r\n\r\n  // Handler for salary input change\r\n  const handleSalaryChange = (e) => {\r\n    const value = parseFloat(e.target.value) || 0;\r\n    updateSalary(value);\r\n    \r\n    // Notify parent component if needed\r\n    if (onChange && typeof onChange === 'function') {\r\n      onChange({\r\n        ...cpfInputs,\r\n        salary: value\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handler for age input change\r\n  const handleAgeChange = (e) => {\r\n    const value = parseInt(e.target.value) || 0;\r\n    updateCpfInput('age', value);\r\n    \r\n    // Notify parent component if needed\r\n    if (onChange && typeof onChange === 'function') {\r\n      onChange({\r\n        ...cpfInputs,\r\n        age: value\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handler for employee type change\r\n  const handleEmployeeTypeChange = (e) => {\r\n    const value = e.target.value;\r\n    updateEmployeeType(value);\r\n    \r\n    // Notify parent component if needed\r\n    if (onChange && typeof onChange === 'function') {\r\n      onChange({\r\n        ...cpfInputs,\r\n        employeeType: value\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handler for bonus months change\r\n  const handleBonusMonthsChange = (e) => {\r\n    const value = parseFloat(e.target.value) || 0;\r\n    updateCpfInput('bonusMonths', value);\r\n    \r\n    // Notify parent component if needed\r\n    if (onChange && typeof onChange === 'function') {\r\n      onChange({\r\n        ...cpfInputs,\r\n        bonusMonths: value\r\n      });\r\n    }\r\n  };\r\n\r\n  // Format currency values for display\r\n  const formatCurrency = (value) => {\r\n    return new Intl.NumberFormat('en-SG', {\r\n      style: 'currency',\r\n      currency: 'SGD',\r\n      minimumFractionDigits: 2\r\n    }).format(value);\r\n  };\r\n\r\n  // Format percentage values for display\r\n  const formatPercentage = (value) => {\r\n    return `${(value * 100).toFixed(1)}%`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">\r\n        CPF Calculator\r\n      </h2>\r\n      \r\n      {/* Input section */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Monthly Salary\r\n          </label>\r\n          <div className=\"relative rounded-md shadow-sm\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <span className=\"text-gray-500 sm:text-sm\">S$</span>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              value={cpfInputs.salary}\r\n              onChange={handleSalaryChange}\r\n              className=\"focus:ring-green-500 focus:border-green-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900\"\r\n              placeholder=\"0.00\"\r\n              min=\"0\"\r\n              step=\"50\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Age\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={cpfInputs.age}\r\n            onChange={handleAgeChange}\r\n            className=\"focus:ring-green-500 focus:border-green-500 block w-full px-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900\"\r\n            placeholder=\"30\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Employment Status\r\n          </label>\r\n          <select\r\n            value={cpfInputs.employeeType}\r\n            onChange={handleEmployeeTypeChange}\r\n            className=\"focus:ring-green-500 focus:border-green-500 block w-full px-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900\"\r\n          >\r\n            <option value={EMPLOYEE_TYPE.SINGAPOREAN}>Singaporean Citizen</option>\r\n            <option value={EMPLOYEE_TYPE.PR_FIRST_YEAR}>PR (1st Year)</option>\r\n            <option value={EMPLOYEE_TYPE.PR_SECOND_YEAR}>PR (2nd Year)</option>\r\n            <option value={EMPLOYEE_TYPE.PR_THIRD_YEAR_ONWARDS}>PR (3rd Year+)</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Annual Bonus (Months)\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={cpfInputs.bonusMonths}\r\n            onChange={handleBonusMonthsChange}\r\n            className=\"focus:ring-green-500 focus:border-green-500 block w-full px-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900\"\r\n            placeholder=\"0\"\r\n            min=\"0\"\r\n            step=\"0.5\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Results section */}\r\n      <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n        <h3 className=\"font-medium text-gray-900 mb-3\">\r\n          Monthly CPF Contributions\r\n        </h3>\r\n        \r\n        <div className=\"grid grid-cols-2 gap-y-2 text-sm\">\r\n          <div className=\"text-gray-600\">Your Contribution:</div>\r\n          <div className=\"text-gray-900 font-medium\">\r\n            {formatCurrency(monthlyCpf.employeeContribution)} ({formatPercentage(employeeRate)})\r\n          </div>\r\n          \r\n          <div className=\"text-gray-600\">Employer Contribution:</div>\r\n          <div className=\"text-gray-900 font-medium\">\r\n            {formatCurrency(monthlyCpf.employerContribution)} ({formatPercentage(employerRate)})\r\n          </div>\r\n          \r\n          <div className=\"text-gray-600\">Total CPF Contribution:</div>\r\n          <div className=\"text-gray-900 font-medium\">\r\n            {formatCurrency(monthlyCpf.totalContribution)}\r\n          </div>\r\n          \r\n          <div className=\"text-gray-600\">Take-Home Pay:</div>\r\n          <div className=\"text-gray-900 font-medium\">\r\n            {formatCurrency(monthlyCpf.takeHomePay)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Toggle for advanced details */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setShowAdvanced(!showAdvanced)}\r\n        className=\"text-green-600 hover:text-green-800 text-sm font-medium flex items-center mb-4\"\r\n      >\r\n        {showAdvanced ? 'Hide' : 'Show'} Advanced Details\r\n        <svg \r\n          className={`ml-1 h-4 w-4 transition-transform ${showAdvanced ? 'transform rotate-180' : ''}`}\r\n          fill=\"none\" \r\n          viewBox=\"0 0 24 24\" \r\n          stroke=\"currentColor\"\r\n        >\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n        </svg>\r\n      </button>\r\n      \r\n      {/* Advanced details section */}\r\n      {showAdvanced && (\r\n        <>\r\n          {/* Yearly estimates */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n            <h3 className=\"font-medium text-gray-900 mb-3\">\r\n              Yearly Estimates\r\n            </h3>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-y-2 text-sm\">\r\n              <div className=\"text-gray-600\">Your Yearly Contribution:</div>\r\n              <div className=\"text-gray-900 font-medium\">\r\n                {formatCurrency(yearlyCpf.yearlyEmployeeContribution)}\r\n              </div>\r\n              \r\n              <div className=\"text-gray-600\">Employer Yearly Contribution:</div>\r\n              <div className=\"text-gray-900 font-medium\">\r\n                {formatCurrency(yearlyCpf.yearlyEmployerContribution)}\r\n              </div>\r\n              \r\n              <div className=\"text-gray-600\">Total Yearly CPF:</div>\r\n              <div className=\"text-gray-900 font-medium\">\r\n                {formatCurrency(yearlyCpf.yearlyTotalContribution)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Bonus details (if applicable) */}\r\n          {cpfInputs.bonusMonths > 0 && (\r\n            <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n              <h3 className=\"font-medium text-gray-900 mb-3\">\r\n                Bonus CPF Contributions\r\n              </h3>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-y-2 text-sm\">\r\n                <div className=\"text-gray-600\">Bonus Amount:</div>\r\n                <div className=\"text-gray-900 font-medium\">\r\n                  {formatCurrency(cpfInputs.salary * cpfInputs.bonusMonths)}\r\n                </div>\r\n                \r\n                <div className=\"text-gray-600\">Your Contribution:</div>\r\n                <div className=\"text-gray-900 font-medium\">\r\n                  {formatCurrency(bonusCpf.employeeContribution)}\r\n                </div>\r\n                \r\n                <div className=\"text-gray-600\">Employer Contribution:</div>\r\n                <div className=\"text-gray-900 font-medium\">\r\n                  {formatCurrency(bonusCpf.employerContribution)}\r\n                </div>\r\n                \r\n                <div className=\"text-gray-600\">Total Bonus CPF:</div>\r\n                <div className=\"text-gray-900 font-medium\">\r\n                  {formatCurrency(bonusCpf.totalContribution)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* CPF allocation information */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <h3 className=\"font-medium text-gray-900 mb-3\">\r\n              CPF Allocation Information\r\n            </h3>\r\n            \r\n            <p className=\"text-xs text-gray-500 mb-2\">\r\n              Below age 55, CPF contributions are typically allocated to these accounts:\r\n            </p>\r\n            \r\n            <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n              <div className=\"bg-blue-100 p-2 rounded\">\r\n                <div className=\"font-medium text-blue-800\">Ordinary Account</div>\r\n                <div className=\"text-blue-600\">\r\n                  For housing, insurance, investment and education\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"bg-green-100 p-2 rounded\">\r\n                <div className=\"font-medium text-green-800\">\r\n                  Special Account\r\n                </div>\r\n                <div className=\"text-green-600\">\r\n                  For retirement and investment in retirement-related financial products\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"bg-purple-100 p-2 rounded\">\r\n                <div className=\"font-medium text-purple-800\">\r\n                  MediSave Account\r\n                </div>\r\n                <div className=\"text-purple-600\">\r\n                  For hospitalization expenses and approved medical insurance\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      \r\n      {/* Disclaimer */}\r\n      <div className=\"mt-4 text-xs text-gray-500\">\r\n        <p>\r\n          <strong>Disclaimer:</strong> This calculator provides estimates based on standard CPF \r\n          contribution rates. For the most accurate information, please refer to the \r\n          official CPF Board website.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CpfCalculator;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useFinancial } from '../context/FinancialContext';\r\nimport CpfCalculator from '../components/CpfCalculator';\r\nimport { EMPLOYEE_TYPE } from '../services/calculations/cpf';\r\n// import useUIPreferences from '../hooks/useUIPreferences';\r\nimport { CpfGrowthChart } from './charts';\r\n\r\n/**\r\n * CPF Dashboard Tab Component\r\n * \r\n * This component integrates the CPF calculator with the rest of the\r\n * financial dashboard application.\r\n */\r\nconst CpfDashboard = () => {\r\n  const { \r\n    financialData, \r\n    updateFinancialData,\r\n    calculateAge\r\n  } = useFinancial();\r\n  \r\n  // const { getChartColorPalette } = useUIPreferences();\r\n  \r\n  // Local state to track changes before committing to global state\r\n  const [localCpfData, setLocalCpfData] = useState({\r\n    salary: financialData.income?.currentSalary || 0,\r\n    age: calculateAge() || 30,\r\n    employeeType: EMPLOYEE_TYPE.SINGAPOREAN,\r\n    bonusMonths: financialData.yearlyBonuses?.length || 0\r\n  });\r\n\r\n  // Generate projection data for the CPF growth chart\r\n  const [projectionData, setProjectionData] = useState([]);\r\n  \r\n  // Generate projection data for the CPF growth chart - wrapped in useCallback to prevent infinite re-renders\r\n  const generateProjectionData = useCallback(() => {\r\n    const currentCpfBalance = financialData.personalInfo?.currentCpfBalance || 0;\r\n    const monthlyContribution = (\r\n      (financialData.income?.currentSalary * financialData.income?.cpfRate / 100) +\r\n      (financialData.income?.currentSalary * financialData.income?.employerCpfRate / 100)\r\n    );\r\n    const annualInterestRate = 0.04; // 4% average annual interest rate\r\n    \r\n    const projectionYears = 10;\r\n    const data = [];\r\n    \r\n    let projectedBalance = currentCpfBalance;\r\n    const currentDate = new Date();\r\n    const currentYear = currentDate.getFullYear();\r\n    const currentMonth = currentDate.getMonth();\r\n    \r\n    // Generate projection points\r\n    for (let year = 0; year <= projectionYears; year++) {\r\n      for (let month = 0; month < 12; month++) {\r\n        // Skip past months in the current year\r\n        if (year === 0 && month < currentMonth) continue;\r\n        \r\n        // Add monthly contribution\r\n        projectedBalance += monthlyContribution;\r\n        \r\n        // Add monthly interest (compounded)\r\n        projectedBalance *= (1 + (annualInterestRate / 12));\r\n        \r\n        // Add to data array (one point per quarter to keep chart clean)\r\n        if (month % 3 === 0) {\r\n          const date = new Date(currentYear + year, month, 1);\r\n          const formattedDate = date.toLocaleDateString('en-US', { \r\n            year: 'numeric', \r\n            month: 'short'\r\n          });\r\n          \r\n          data.push({\r\n            date: formattedDate,\r\n            cpfBalance: Math.round(projectedBalance)\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    setProjectionData(data);\r\n  }, [financialData.personalInfo?.currentCpfBalance, financialData.income?.currentSalary, financialData.income?.cpfRate, financialData.income?.employerCpfRate]);\r\n  \r\n  // Effect to update local state when financial data changes\r\n  useEffect(() => {\r\n    if (financialData) {\r\n      setLocalCpfData(prevData => ({\r\n        ...prevData,\r\n        salary: financialData.income?.currentSalary || prevData.salary,\r\n        age: calculateAge() || prevData.age,\r\n        bonusMonths: financialData.yearlyBonuses?.length || prevData.bonusMonths\r\n      }));\r\n      \r\n      // Generate projection data for the chart\r\n      generateProjectionData();\r\n    }\r\n  }, [financialData, calculateAge, generateProjectionData]);\r\n  \r\n  // Handle changes in the calculator\r\n  const handleCpfCalculatorChange = (updatedData) => {\r\n    setLocalCpfData(updatedData);\r\n  };\r\n  \r\n  // Save changes to global financial context\r\n  const handleSaveChanges = () => {\r\n    // Update income data\r\n    updateFinancialData({\r\n      income: {\r\n        ...financialData.income,\r\n        currentSalary: localCpfData.salary,\r\n        cpfRate: localCpfData.employeeRate * 100 || financialData.income?.cpfRate,\r\n        employerCpfRate: localCpfData.employerRate * 100 || financialData.income?.employerCpfRate,\r\n      }\r\n    });\r\n    \r\n    // Regenerate projection data with the new values\r\n    generateProjectionData();\r\n  };\r\n\r\n  // Calculate projected CPF at age 55\r\n  const calculateProjectedCpfAt55 = (currentCpfBalance, yearlyContribution, currentAge) => {\r\n    // Number of years until age 55\r\n    const yearsToAge55 = Math.max(0, 55 - currentAge);\r\n    \r\n    // Simplified annual growth rate (includes both contributions and interest)\r\n    const annualInterestRate = 0.04; // 4% average annual interest rate\r\n    \r\n    let projectedBalance = currentCpfBalance;\r\n    \r\n    // Simple compound interest calculation with annual contributions\r\n    for (let i = 0; i < yearsToAge55; i++) {\r\n      // Add yearly contribution\r\n      projectedBalance += yearlyContribution;\r\n      \r\n      // Add interest\r\n      projectedBalance *= (1 + annualInterestRate);\r\n    }\r\n    \r\n    return Math.round(projectedBalance);\r\n  };\r\n  \r\n  // Format currency \r\n  const formatCurrency = (value) => {\r\n    return new Intl.NumberFormat('en-SG', {\r\n      style: 'currency',\r\n      currency: 'SGD',\r\n      minimumFractionDigits: 2\r\n    }).format(value);\r\n  };\r\n  \r\n  // Define CPF milestone for chart\r\n  const cpfMilestone = {\r\n    date: new Date(new Date().getFullYear() + 5, 0, 1).toLocaleDateString('en-US', { \r\n      year: 'numeric', \r\n      month: 'short'\r\n    }),\r\n    amount: 100000\r\n  };\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">\r\n          CPF Calculator & Analysis\r\n        </h2>\r\n        \r\n        {/* Only show save button if there are changes */}\r\n        {(localCpfData.salary !== financialData.income?.currentSalary) && (\r\n          <button\r\n            onClick={handleSaveChanges}\r\n            className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n          >\r\n            Save Changes\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      <p className=\"text-gray-600\">\r\n        Calculate your CPF contributions based on your salary and personal details.\r\n        Changes made here will update your financial projections.\r\n      </p>\r\n      \r\n      {/* CPF Calculator Component */}\r\n      <CpfCalculator \r\n        initialData={localCpfData}\r\n        onChange={handleCpfCalculatorChange}\r\n      />\r\n      \r\n      {/* CPF Impact Analysis */}\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <h3 className=\"text-xl font-semibold mb-4 text-gray-800\">\r\n          CPF Impact Analysis\r\n        </h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {/* CPF Growth Projection */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <CpfGrowthChart \r\n              chartData={projectionData}\r\n              cpfMilestone={cpfMilestone}\r\n            />\r\n          </div>\r\n          \r\n          {/* Retirement Readiness */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <h4 className=\"font-medium text-gray-900 mb-3\">\r\n              Retirement Readiness\r\n            </h4>\r\n            \r\n            <p className=\"text-gray-600 text-sm mb-4\">\r\n              Evaluate how your current CPF savings and contribution rate\r\n              align with your retirement goals.\r\n            </p>\r\n            \r\n            {/* Retirement readiness indicators */}\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm text-gray-600\">\r\n                  Current CPF Balance\r\n                </span>\r\n                <span className=\"font-medium text-gray-900\">\r\n                  {formatCurrency(financialData.personalInfo?.currentCpfBalance || 0)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm text-gray-600\">\r\n                  Yearly CPF Contribution\r\n                </span>\r\n                <span className=\"font-medium text-gray-900\">\r\n                  {formatCurrency((\r\n                    (financialData.income?.currentSalary * financialData.income?.cpfRate / 100) +\r\n                    (financialData.income?.currentSalary * financialData.income?.employerCpfRate / 100)\r\n                  ) * 12)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm text-gray-600\">\r\n                  Projected at Age 55\r\n                </span>\r\n                <span className=\"font-medium text-gray-900\">\r\n                  {formatCurrency(calculateProjectedCpfAt55(\r\n                    financialData.personalInfo?.currentCpfBalance || 0,\r\n                    (financialData.income?.currentSalary * financialData.income?.cpfRate / 100) +\r\n                    (financialData.income?.currentSalary * financialData.income?.employerCpfRate / 100) * 12,\r\n                    calculateAge() || 30\r\n                  ))}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* CPF Tips and Information */}\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <h3 className=\"text-xl font-semibold mb-4 text-gray-800\">\r\n          CPF Tips & Information\r\n        </h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"border border-gray-200 rounded-lg p-4\">\r\n            <h4 className=\"font-medium text-gray-900 mb-2\">\r\n              CPF Interest Rates\r\n            </h4>\r\n            <ul className=\"text-sm text-gray-600 space-y-1\">\r\n              <li>Ordinary Account: Up to 3.5% p.a.</li>\r\n              <li>Special Account: Up to 5% p.a.</li>\r\n              <li>MediSave Account: Up to 5% p.a.</li>\r\n              <li>Retirement Account: Up to 5% p.a.</li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div className=\"border border-gray-200 rounded-lg p-4\">\r\n            <h4 className=\"font-medium text-gray-900 mb-2\">\r\n              Maximizing CPF\r\n            </h4>\r\n            <ul className=\"text-sm text-gray-600 space-y-1\">\r\n              <li>Consider voluntary contributions</li>\r\n              <li>Transfer OA to SA for higher interest</li>\r\n              <li>Use CPF for property wisely</li>\r\n              <li>Consider CPF investment options</li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div className=\"border border-gray-200 rounded-lg p-4\">\r\n            <h4 className=\"font-medium text-gray-900 mb-2\">\r\n              Important Schemes\r\n            </h4>\r\n            <ul className=\"text-sm text-gray-600 space-y-1\">\r\n              <li>Retirement Sum Scheme</li>\r\n              <li>CPF LIFE</li>\r\n              <li>Home Protection Scheme</li>\r\n              <li>MediShield Life</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CpfDashboard;","import CashFlowTiming from './CashFlowTiming';\r\n\r\nexport default CashFlowTiming;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../../common/Card';\r\nimport { formatCurrency } from '../../../services/formatters/currencyFormatters';\r\n\r\n/**\r\n * CashFlowTiming component displays intra-month cash flow analysis\r\n * Shows when salary is received vs when expenses are due\r\n * \r\n * @param {Object} props - Component props\r\n * @param {Object} props.cashFlowAnalysis - Analysis from useIntraMonthCashFlow\r\n * @param {Array} props.liquidityWarnings - Array of liquidity warnings\r\n * @returns {JSX.Element}\r\n */\r\nconst CashFlowTiming = ({ cashFlowAnalysis, liquidityWarnings = [] }) => {\r\n  // Show loading state if analysis is not ready yet\r\n  if (!cashFlowAnalysis) {\r\n    return (\r\n      <Card title=\"Cash Flow Timing\">\r\n        <div className=\"text-center py-4\">\r\n          <p className=\"text-gray-500\">Loading cash flow analysis...</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // If no intra-month analysis available, show a helpful message\r\n  if (!cashFlowAnalysis.intraMonthAnalysis) {\r\n    return (\r\n      <Card title=\"Cash Flow Timing\">\r\n        <div className=\"text-center py-4\">\r\n          <p className=\"text-gray-500 mb-2\">Detailed cash flow timing analysis not available</p>\r\n          <p className=\"text-sm text-gray-400\">Check your projection settings or financial data configuration</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const { dailyEvents, minBalance, minBalanceDay, metrics } = cashFlowAnalysis.intraMonthAnalysis;\r\n\r\n  // Get salary and major expense events\r\n  const salaryEvent = dailyEvents.find(event => event.type === 'income');\r\n  const rentEvent = dailyEvents.find(event => event.description.toLowerCase().includes('rent'));\r\n  \r\n  return (\r\n    <Card title=\"Cash Flow Timing Analysis\">\r\n      <div className=\"space-y-4\">\r\n        {/* Timing Overview */}\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <h4 className=\"font-semibold text-blue-800 mb-2\">Your Cash Flow Pattern</h4>\r\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n            <div>\r\n              <span className=\"text-blue-700\">Salary Received:</span>\r\n              <p className=\"font-medium\">Day {salaryEvent?.day || 'N/A'} of each month</p>\r\n            </div>\r\n            <div>\r\n              <span className=\"text-blue-700\">Rent Due:</span>\r\n              <p className=\"font-medium\">Day {rentEvent?.day || 'N/A'} of each month</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Risk Assessment */}\r\n        <div className={`border rounded-lg p-4 ${\r\n          liquidityWarnings.length > 0 ? 'bg-red-50 border-red-200' : 'bg-green-50 border-green-200'\r\n        }`}>\r\n          <div className=\"flex items-center mb-2\">\r\n            {liquidityWarnings.length > 0 ? (\r\n              <>\r\n                <svg className=\"w-5 h-5 text-red-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L3.316 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n                </svg>\r\n                <h4 className=\"font-semibold text-red-800\">Cash Flow Risk Detected</h4>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <svg className=\"w-5 h-5 text-green-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n                <h4 className=\"font-semibold text-green-800\">Cash Flow Looks Healthy</h4>\r\n              </>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"text-sm space-y-1\">\r\n            <p>\r\n              <span className=\"font-medium\">Lowest balance:</span> {formatCurrency(minBalance)} on day {minBalanceDay}\r\n            </p>\r\n            <p>\r\n              <span className=\"font-medium\">Recommended buffer:</span> {formatCurrency(metrics.recommendedBuffer)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Monthly Timeline */}\r\n        <div>\r\n          <h4 className=\"font-semibold text-gray-800 mb-3\">Monthly Cash Flow Timeline</h4>\r\n          <div className=\"space-y-2\">\r\n            {dailyEvents.slice(0, 8).map((event, index) => (\r\n              <div key={index} className=\"flex items-center justify-between py-2 px-3 bg-gray-50 rounded\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\r\n                    {event.day}\r\n                  </span>\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-800\">{event.description}</p>\r\n                    <p className=\"text-xs text-gray-500 capitalize\">{event.type}</p>\r\n                  </div>\r\n                </div>\r\n                <span className={`font-semibold ${\r\n                  event.amount > 0 ? 'text-green-600' : 'text-red-600'\r\n                }`}>\r\n                  {event.amount > 0 ? '+' : ''}{formatCurrency(event.amount)}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recommendations */}\r\n        {cashFlowAnalysis.recommendations && cashFlowAnalysis.recommendations.length > 0 && (\r\n          <div>\r\n            <h4 className=\"font-semibold text-gray-800 mb-3\">Recommendations</h4>\r\n            <div className=\"space-y-3\">\r\n              {cashFlowAnalysis.recommendations.map((rec, index) => (\r\n                <div key={index} className={`border rounded-lg p-3 ${\r\n                  rec.type === 'critical' ? 'bg-red-50 border-red-200' :\r\n                  rec.type === 'warning' ? 'bg-yellow-50 border-yellow-200' :\r\n                  'bg-blue-50 border-blue-200'\r\n                }`}>\r\n                  <h5 className={`font-medium mb-1 ${\r\n                    rec.type === 'critical' ? 'text-red-800' :\r\n                    rec.type === 'warning' ? 'text-yellow-800' :\r\n                    'text-blue-800'\r\n                  }`}>\r\n                    {rec.title}\r\n                  </h5>\r\n                  <p className={`text-sm mb-2 ${\r\n                    rec.type === 'critical' ? 'text-red-700' :\r\n                    rec.type === 'warning' ? 'text-yellow-700' :\r\n                    'text-blue-700'\r\n                  }`}>\r\n                    {rec.description}\r\n                  </p>\r\n                  {rec.actionItems && (\r\n                    <ul className={`text-xs space-y-1 ${\r\n                      rec.type === 'critical' ? 'text-red-600' :\r\n                      rec.type === 'warning' ? 'text-yellow-600' :\r\n                      'text-blue-600'\r\n                    }`}>\r\n                      {rec.actionItems.map((item, itemIndex) => (\r\n                        <li key={itemIndex} className=\"flex items-start\">\r\n                          <span className=\"mr-1\"></span>\r\n                          <span>{item}</span>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nCashFlowTiming.propTypes = {\r\n  cashFlowAnalysis: PropTypes.object,\r\n  liquidityWarnings: PropTypes.array\r\n};\r\n\r\nexport default CashFlowTiming;","import React, { memo } from 'react';\r\nimport { useFinancial } from '../../../context/FinancialContext';\r\nimport { formatCurrency } from '../../../services/formatters/currencyFormatters';\r\nimport Card from '../../common/Card';\r\n\r\nconst UpcomingSpending = () => {\r\n  const {\r\n    financialData,\r\n    getMonthName\r\n  } = useFinancial();\r\n\r\n  const upcomingSpending = financialData.upcomingSpending || [];\r\n\r\n\r\n  const sortedUpcomingSpending = [...upcomingSpending].sort((a, b) => {\r\n    if (a.year !== b.year) return a.year - b.year;\r\n    if (a.month !== b.month) return a.month - b.month;\r\n    return (a.day || 15) - (b.day || 15);\r\n  });\r\n\r\n  const formatSpendingDate = (spending) => {\r\n    const day = spending.day || 15;\r\n    return `${getMonthName(spending.month)} ${day}, ${spending.year}`;\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <Card title=\"Upcoming Spending\" titleColor=\"bg-purple-600\">\r\n      <div className=\"space-y-4\">\r\n        <p className=\"text-gray-600 text-sm\">\r\n          Your planned one-time future purchases and their timing.\r\n        </p>\r\n\r\n        {sortedUpcomingSpending.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {sortedUpcomingSpending.map((spending) => (\r\n              <div\r\n                key={spending.id}\r\n                className=\"bg-white p-5 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow\"\r\n              >\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium text-gray-900 mb-2\">{spending.name}</h4>\r\n                    \r\n                    <div className=\"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-600\">\r\n                      <div className=\"flex flex-col\">\r\n                        <span className=\"text-xs text-gray-500 uppercase tracking-wider font-medium\">Date</span>\r\n                        <span className=\"mt-1 font-medium\">{formatSpendingDate(spending)}</span>\r\n                      </div>\r\n                      <div className=\"flex flex-col\">\r\n                        <span className=\"text-xs text-gray-500 uppercase tracking-wider font-medium\">Amount</span>\r\n                        <span className=\"mt-1 font-semibold text-purple-600 text-lg\">\r\n                          {formatCurrency(spending.amount)}\r\n                        </span>\r\n                      </div>\r\n                      {spending.description && (\r\n                        <div className=\"flex flex-col sm:col-span-2 lg:col-span-1\">\r\n                          <span className=\"text-xs text-gray-500 uppercase tracking-wider font-medium\">Description</span>\r\n                          <span className=\"mt-1\">{spending.description}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\r\n            </svg>\r\n            <p className=\"mt-2\">No upcoming spending planned</p>\r\n            <p className=\"text-sm\">Add planned purchases in Edit Parameters</p>\r\n          </div>\r\n        )}\r\n\r\n        {sortedUpcomingSpending.length > 0 && (\r\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n            <h4 className=\"font-medium text-blue-800 mb-2\">Summary</h4>\r\n            <div className=\"text-sm text-blue-700\">\r\n              <p>Total upcoming spending: <span className=\"font-medium\">\r\n                {formatCurrency(sortedUpcomingSpending.reduce((total, spending) => total + spending.amount, 0))}\r\n              </span></p>\r\n              <p>Number of planned purchases: <span className=\"font-medium\">{sortedUpcomingSpending.length}</span></p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default memo(UpcomingSpending);","import React, { useMemo } from \"react\";\nimport { PieChart, Pie, Cell, Legend, Tooltip, ResponsiveContainer } from \"recharts\";\nimport Card from \"../common/Card\";\n\n/**\n * YearlyExpenseBreakdown Component\n * Displays breakdown of yearly expenses by category\n * Shows both recurring and one-time yearly expenses\n */\nconst YearlyExpenseBreakdown = ({\n\tyearlyExpenses = [],\n\tselectedYear = new Date().getFullYear(),\n}) => {\n\t// Filter and prepare yearly expenses for selected year\n\tconst expensesData = useMemo(() => {\n\t\tif (!Array.isArray(yearlyExpenses) || yearlyExpenses.length === 0) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// Filter expenses that apply to the selected year\n\t\tconst applicableExpenses = yearlyExpenses.filter((expense) => {\n\t\t\tconst startsBeforeOrDuring = expense.startYear <= selectedYear;\n\t\t\tconst endsAfterOrDuring =\n\t\t\t\t!expense.endYear || expense.endYear >= selectedYear;\n\n\t\t\treturn startsBeforeOrDuring && endsAfterOrDuring;\n\t\t});\n\n\t\t// Group by category and sum amounts\n\t\treturn applicableExpenses.map((expense) => ({\n\t\t\tname: expense.name,\n\t\t\tvalue: parseFloat(expense.amount) || 0,\n\t\t\ttype: expense.endYear && expense.endYear > 0 ? \"One-time\" : \"Recurring\",\n\t\t\tmonth: expense.month,\n\t\t\tdescription: expense.description || \"\",\n\t\t}));\n\t}, [yearlyExpenses, selectedYear]);\n\n\tconst totalYearlyExpenses = useMemo(() => {\n\t\treturn expensesData.reduce((sum, item) => sum + item.value, 0);\n\t}, [expensesData]);\n\n\tconst averageMonthly = useMemo(() => {\n\t\treturn totalYearlyExpenses / 12;\n\t}, [totalYearlyExpenses]);\n\n\t// Colors for pie chart\n\tconst COLORS = [\n\t\t\"#ef4444\", // red\n\t\t\"#f97316\", // orange\n\t\t\"#eab308\", // yellow\n\t\t\"#84cc16\", // lime\n\t\t\"#22c55e\", // green\n\t\t\"#10b981\", // emerald\n\t\t\"#14b8a6\", // teal\n\t\t\"#06b6d4\", // cyan\n\t\t\"#0ea5e9\", // sky\n\t\t\"#3b82f6\", // blue\n\t\t\"#6366f1\", // indigo\n\t\t\"#8b5cf6\", // violet\n\t];\n\n\tconst monthNames = [\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n\t\t\"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n\t];\n\n\tif (!expensesData || expensesData.length === 0) {\n\t\treturn (\n\t\t\t<Card className=\"p-6\">\n\t\t\t\t<div className=\"text-center py-8\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"mx-auto h-12 w-12 text-gray-400\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n\t\t\t\t\t\tNo yearly expenses\n\t\t\t\t\t</h3>\n\t\t\t\t\t<p className=\"mt-1 text-sm text-gray-500\">\n\t\t\t\t\t\tAdd yearly expenses to see them here\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t{/* Summary Cards */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">Total Yearly</p>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-gray-900 mt-2\">\n\t\t\t\t\t\t\t\t${totalYearlyExpenses.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-12 w-12 text-red-500 opacity-20\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\tAverage Monthly Impact\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-gray-900 mt-2\">\n\t\t\t\t\t\t\t\t${averageMonthly.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-12 w-12 text-blue-500 opacity-20\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\tNumber of Expenses\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-gray-900 mt-2\">\n\t\t\t\t\t\t\t\t{expensesData.length}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-12 w-12 text-purple-500 opacity-20\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t{/* Pie Chart */}\n\t\t\t{expensesData.length > 0 && (\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n\t\t\t\t\t\tExpense Breakdown for {selectedYear}\n\t\t\t\t\t</h3>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={300}>\n\t\t\t\t\t\t<PieChart>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={expensesData}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\tlabel={({ name, value }) =>\n\t\t\t\t\t\t\t\t\t`${name}: $${value.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 0,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 0,\n\t\t\t\t\t\t\t\t\t})}`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\touterRadius={80}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t\tdataKey=\"value\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{expensesData.map((entry, index) => (\n\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tformatter={(value) =>\n\t\t\t\t\t\t\t\t\t`$${value.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Legend />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</Card>\n\t\t\t)}\n\n\t\t\t{/* Detailed List */}\n\t\t\t<Card className=\"p-6\">\n\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n\t\t\t\t\tYearly Expenses for {selectedYear}\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t<table className=\"min-w-full\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr className=\"border-b border-gray-200\">\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-left text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tExpense\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-left text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tMonth\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-left text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tType\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-right text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tAmount\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-right text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tMonthly Avg\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200\">\n\t\t\t\t\t\t\t{expensesData.map((expense, index) => (\n\t\t\t\t\t\t\t\t<tr key={index} className=\"hover:bg-gray-50\">\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t{expense.name}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t{expense.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{expense.description}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{monthNames[expense.month - 1]}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3\">\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n\t\t\t\t\t\t\t\t\t\t\t\texpense.type === \"Recurring\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-green-100 text-green-800\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-amber-100 text-amber-800\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{expense.type}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t${expense.value.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t\t\t${(expense.value / 12).toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<tr className=\"bg-gray-50 font-semibold\">\n\t\t\t\t\t\t\t\t<td colSpan=\"3\" className=\"px-4 py-3 text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t${totalYearlyExpenses.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t\t${averageMonthly.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</div>\n\t);\n};\n\nexport default YearlyExpenseBreakdown;\n","import React, { useMemo } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from \"recharts\";\nimport Card from \"../common/Card\";\n\n/**\n * ConsolidatedExpenseBreakdown Component\n * Shows combined view of monthly and yearly expenses\n * Displays both absolute amounts and monthly averages\n */\nconst ConsolidatedExpenseBreakdown = ({\n\tmonthlyExpenses = [],\n\tyearlyExpenses = [],\n\tselectedYear = new Date().getFullYear(),\n}) => {\n\t// Calculate monthly and yearly totals\n\tconst monthlyTotal = useMemo(() => {\n\t\treturn monthlyExpenses.reduce((sum, expense) => sum + (parseFloat(expense.amount) || 0), 0);\n\t}, [monthlyExpenses]);\n\n\tconst yearlyExpensesForYear = useMemo(() => {\n\t\tif (!Array.isArray(yearlyExpenses)) return [];\n\n\t\treturn yearlyExpenses.filter((expense) => {\n\t\t\tconst startsBeforeOrDuring = expense.startYear <= selectedYear;\n\t\t\tconst endsAfterOrDuring = !expense.endYear || expense.endYear >= selectedYear;\n\t\t\treturn startsBeforeOrDuring && endsAfterOrDuring;\n\t\t});\n\t}, [yearlyExpenses, selectedYear]);\n\n\tconst yearlyTotal = useMemo(() => {\n\t\treturn yearlyExpensesForYear.reduce((sum, expense) => sum + (parseFloat(expense.amount) || 0), 0);\n\t}, [yearlyExpensesForYear]);\n\n\tconst yearlyMonthlyAverage = useMemo(() => {\n\t\treturn yearlyTotal / 12;\n\t}, [yearlyTotal]);\n\n\tconst totalMonthlyExpenses = useMemo(() => {\n\t\treturn monthlyTotal + yearlyMonthlyAverage;\n\t}, [monthlyTotal, yearlyMonthlyAverage]);\n\n\tconst annualTotal = useMemo(() => {\n\t\treturn monthlyTotal * 12 + yearlyTotal;\n\t}, [monthlyTotal, yearlyTotal]);\n\n\t// Prepare data for breakdown\n\tconst expenseCategories = useMemo(() => {\n\t\tconst categories = {};\n\n\t\t// Add monthly expenses\n\t\tmonthlyExpenses.forEach((expense) => {\n\t\t\tcategories[expense.name] = {\n\t\t\t\tname: expense.name,\n\t\t\t\tmonthly: parseFloat(expense.amount) || 0,\n\t\t\t\tyearly: (parseFloat(expense.amount) || 0) * 12,\n\t\t\t\ttype: \"Monthly\",\n\t\t\t};\n\t\t});\n\n\t\t// Add yearly expenses with their monthly averages\n\t\tyearlyExpensesForYear.forEach((expense) => {\n\t\t\tconst monthlyAvg = (parseFloat(expense.amount) || 0) / 12;\n\t\t\tif (categories[expense.name]) {\n\t\t\t\tcategories[expense.name].yearly += parseFloat(expense.amount) || 0;\n\t\t\t\tcategories[expense.name].monthly += monthlyAvg;\n\t\t\t} else {\n\t\t\t\tcategories[expense.name] = {\n\t\t\t\t\tname: expense.name,\n\t\t\t\t\tmonthly: monthlyAvg,\n\t\t\t\t\tyearly: parseFloat(expense.amount) || 0,\n\t\t\t\t\ttype: \"Yearly\",\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\treturn Object.values(categories);\n\t}, [monthlyExpenses, yearlyExpensesForYear]);\n\n\tconst COLORS = [\"#ef4444\", \"#f97316\", \"#eab308\", \"#84cc16\", \"#22c55e\", \"#10b981\"];\n\n\tif (expenseCategories.length === 0) {\n\t\treturn (\n\t\t\t<Card className=\"p-6\">\n\t\t\t\t<div className=\"text-center py-8\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"mx-auto h-12 w-12 text-gray-400\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n\t\t\t\t\t\tNo expenses\n\t\t\t\t\t</h3>\n\t\t\t\t\t<p className=\"mt-1 text-sm text-gray-500\">\n\t\t\t\t\t\tAdd monthly or yearly expenses to see the breakdown here\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t{/* Summary Cards */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">Monthly Expenses</p>\n\t\t\t\t\t\t<p className=\"text-2xl font-bold text-gray-900 mt-2\">\n\t\t\t\t\t\t\t${monthlyTotal.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-xs text-gray-500 mt-1\">Recurring monthly</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">Yearly Expenses (Avg/Month)</p>\n\t\t\t\t\t\t<p className=\"text-2xl font-bold text-amber-600 mt-2\">\n\t\t\t\t\t\t\t${yearlyMonthlyAverage.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-xs text-gray-500 mt-1\">${yearlyTotal.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t})} total/year</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">Total Monthly Impact</p>\n\t\t\t\t\t\t<p className=\"text-2xl font-bold text-red-600 mt-2\">\n\t\t\t\t\t\t\t${totalMonthlyExpenses.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-xs text-gray-500 mt-1\">Combined average</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-600\">Annual Expenses</p>\n\t\t\t\t\t\t<p className=\"text-2xl font-bold text-purple-600 mt-2\">\n\t\t\t\t\t\t\t${annualTotal.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-xs text-gray-500 mt-1\">12 months total</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t{/* Breakdown Visualization */}\n\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n\t\t\t\t{/* Bar Chart */}\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Monthly Impact</h3>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={300}>\n\t\t\t\t\t\t<BarChart data={expenseCategories}>\n\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t<XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\n\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tformatter={(value) =>\n\t\t\t\t\t\t\t\t\t`$${value.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Legend />\n\t\t\t\t\t\t\t<Bar dataKey=\"monthly\" fill=\"#3b82f6\" name=\"Monthly Amount\" />\n\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Pie Chart */}\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Expense Distribution</h3>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={300}>\n\t\t\t\t\t\t<PieChart>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={expenseCategories}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\tlabel={({ name, monthly }) =>\n\t\t\t\t\t\t\t\t\t`${name}: $${monthly.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 0,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 0,\n\t\t\t\t\t\t\t\t\t})}`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\touterRadius={80}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t\tdataKey=\"monthly\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{expenseCategories.map((entry, index) => (\n\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tformatter={(value) =>\n\t\t\t\t\t\t\t\t\t`$${value.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t{/* Detailed Table */}\n\t\t\t<Card className=\"p-6\">\n\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n\t\t\t\t\tExpense Details for {selectedYear}\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t<table className=\"min-w-full\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr className=\"border-b border-gray-200\">\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-left text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tExpense Category\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-right text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tMonthly Avg\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-right text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\tAnnual Total\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"px-4 py-3 text-right text-sm font-medium text-gray-600\">\n\t\t\t\t\t\t\t\t\t% of Total\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200\">\n\t\t\t\t\t\t\t{expenseCategories.map((category, index) => (\n\t\t\t\t\t\t\t\t<tr key={index} className=\"hover:bg-gray-50\">\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t${category.monthly.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t${category.yearly.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t\t\t{((category.monthly / totalMonthlyExpenses) * 100).toFixed(1)}%\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<tr className=\"bg-gray-50 font-semibold border-t-2 border-gray-300\">\n\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\tTOTAL\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t${totalMonthlyExpenses.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t${annualTotal.toLocaleString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"px-4 py-3 text-right text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t100%\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</div>\n\t);\n};\n\nexport default ConsolidatedExpenseBreakdown;\n","import { useState, useCallback } from 'react';\r\nimport { logError } from '../utils/errors/ErrorUtils';\r\n\r\n/**\r\n * Custom hook for managing errors in components and hooks\r\n * \r\n * @param {string} componentName - Name of the component using this hook\r\n * @returns {Object} Error handling methods and state\r\n */\r\nconst useErrorHandler = (componentName = 'Unknown') => {\r\n  const [error, setError] = useState(null);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  /**\r\n   * Handle an error by setting error state and optionally logging it\r\n   * \r\n   * @param {Error} error - The error object\r\n   * @param {Object} additionalData - Optional additional data to log\r\n   * @param {boolean} shouldLog - Whether to log the error\r\n   */\r\n  const handleError = useCallback((error, additionalData = {}, shouldLog = true) => {\r\n    setError(error);\r\n    setHasError(true);\r\n    \r\n    if (shouldLog) {\r\n      logError(error, componentName, additionalData);\r\n    }\r\n  }, [componentName]);\r\n\r\n  /**\r\n   * Clear the current error state\r\n   */\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n    setHasError(false);\r\n  }, []);\r\n\r\n  /**\r\n   * Safely execute a function, catching and handling any errors\r\n   * \r\n   * @param {Function} fn - The function to execute\r\n   * @param {Array} args - Arguments to pass to the function\r\n   * @param {Object} additionalData - Optional additional data to log with any error\r\n   * @returns {any} The result of the function or undefined if an error occurred\r\n   */\r\n  const tryCatch = useCallback((fn, args = [], additionalData = {}) => {\r\n    try {\r\n      return fn(...args);\r\n    } catch (error) {\r\n      handleError(error, additionalData);\r\n      return undefined;\r\n    }\r\n  }, [handleError]);\r\n\r\n  /**\r\n   * Create an async function wrapped with error handling\r\n   * \r\n   * @param {Function} asyncFn - The async function to wrap\r\n   * @returns {Function} Wrapped function that handles errors\r\n   */\r\n  const withErrorHandling = useCallback((asyncFn) => {\r\n    return async (...args) => {\r\n      try {\r\n        return await asyncFn(...args);\r\n      } catch (error) {\r\n        handleError(error, { args });\r\n        return undefined;\r\n      }\r\n    };\r\n  }, [handleError]);\r\n\r\n  return {\r\n    error,\r\n    hasError,\r\n    handleError,\r\n    clearError,\r\n    tryCatch,\r\n    withErrorHandling\r\n  };\r\n};\r\n\r\nexport default useErrorHandler;","import { useState, useEffect, useCallback } from 'react';\r\nimport useErrorHandler from './useErrorHandler';\r\nimport { safeParseNumber } from '../utils/errors/ErrorUtils';\r\n\r\n/**\r\n * Enhanced cash flow projection that considers intra-month timing\r\n * Handles salary received on 23-25th and expenses due throughout the month\r\n * \r\n * @param {Object} financialData - Complete financial data from context\r\n * @param {Object} settings - Projection settings\r\n * @returns {Object} - Enhanced cash flow analysis with timing considerations\r\n */\r\nconst useIntraMonthCashFlow = (financialData, settings = {}) => {\r\n  const [cashFlowAnalysis, setCashFlowAnalysis] = useState(null);\r\n  const [liquidityWarnings, setLiquidityWarnings] = useState([]);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n\r\n  // Setup error handler\r\n  const { \r\n    error, \r\n    hasError, \r\n    handleError, \r\n    clearError\r\n  } = useErrorHandler('useIntraMonthCashFlow');\r\n\r\n  // Calculate detailed intra-month cash flow\r\n  const calculateIntraMonthCashFlow = useCallback((monthData, income, expenses, projectionSettings) => {\r\n    const salaryDay = safeParseNumber(income.salaryDay, 25);\r\n    const minimumBuffer = safeParseNumber(projectionSettings.minimumCashBuffer, 1000);\r\n    \r\n    // Create daily cash flow events\r\n    const dailyEvents = [];\r\n    \r\n    // Add salary event (received on salary day of PREVIOUS month for expenses)\r\n    const salaryDate = salaryDay;\r\n    const salaryAmount = monthData.takeHomePay + (monthData.bonusAmount || 0);\r\n    \r\n    dailyEvents.push({\r\n      day: salaryDate,\r\n      type: 'income',\r\n      description: 'Salary Received',\r\n      amount: salaryAmount,\r\n      category: 'salary'\r\n    });\r\n    \r\n    // Add expense events throughout the month\r\n    expenses.forEach(expense => {\r\n      const dueDay = safeParseNumber(expense.dueDay, 15);\r\n      dailyEvents.push({\r\n        day: dueDay,\r\n        type: 'expense',\r\n        description: expense.name,\r\n        amount: -expense.amount,\r\n        category: 'expense'\r\n      });\r\n    });\r\n\r\n    // Sort events by day\r\n    dailyEvents.sort((a, b) => a.day - b.day);\r\n    \r\n    // Calculate running cash balance\r\n    let runningBalance = monthData.cashSavings; // Starting cash from previous month\r\n    let minBalance = runningBalance;\r\n    let minBalanceDay = 0;\r\n    let liquidityIssues = [];\r\n    \r\n    const dailyBalances = [];\r\n    \r\n    dailyEvents.forEach(event => {\r\n      runningBalance += event.amount;\r\n      \r\n      dailyBalances.push({\r\n        day: event.day,\r\n        balance: runningBalance,\r\n        event: event,\r\n        change: event.amount\r\n      });\r\n      \r\n      // Track minimum balance\r\n      if (runningBalance < minBalance) {\r\n        minBalance = runningBalance;\r\n        minBalanceDay = event.day;\r\n      }\r\n      \r\n      // Check for liquidity issues\r\n      if (runningBalance < minimumBuffer) {\r\n        liquidityIssues.push({\r\n          day: event.day,\r\n          balance: runningBalance,\r\n          shortfall: minimumBuffer - runningBalance,\r\n          severity: runningBalance < 0 ? 'critical' : 'warning'\r\n        });\r\n      }\r\n    });\r\n    \r\n    return {\r\n      dailyEvents,\r\n      dailyBalances,\r\n      minBalance,\r\n      minBalanceDay,\r\n      liquidityIssues,\r\n      metrics: {\r\n        salaryToFirstExpenseGap: salaryDay > 1 ? 1 - salaryDay + 30 : 1 - salaryDay, // Days from salary to first expense\r\n        cashFlowStress: minBalance < minimumBuffer,\r\n        recommendedBuffer: Math.max(minimumBuffer, Math.abs(minBalance) + 500)\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Generate recommendations based on cash flow timing\r\n  const generateRecommendations = useCallback((analysis, income, settings) => {\r\n    if (!analysis) return [];\r\n    \r\n    const recommendations = [];\r\n    const salaryDay = safeParseNumber(income.salaryDay, 25);\r\n    \r\n    // Liquidity recommendations\r\n    if (analysis.liquidityIssues.length > 0) {\r\n      const criticalIssues = analysis.liquidityIssues.filter(issue => issue.severity === 'critical');\r\n      \r\n      if (criticalIssues.length > 0) {\r\n        recommendations.push({\r\n          type: 'critical',\r\n          title: 'Cash Flow Risk Detected',\r\n          description: `You may run out of cash on day ${criticalIssues[0].day} of the month. Consider increasing your cash buffer.`,\r\n          actionItems: [\r\n            `Increase emergency fund by $${Math.ceil(Math.abs(analysis.minBalance) + 500)}`,\r\n            'Consider moving some expenses to after salary day',\r\n            'Set up overdraft protection'\r\n          ]\r\n        });\r\n      } else {\r\n        recommendations.push({\r\n          type: 'warning',\r\n          title: 'Low Cash Buffer Warning',\r\n          description: `Your cash drops below the recommended buffer on day ${analysis.liquidityIssues[0].day}.`,\r\n          actionItems: [\r\n            `Consider increasing minimum cash buffer to $${analysis.metrics.recommendedBuffer}`,\r\n            'Monitor cash flow more closely'\r\n          ]\r\n        });\r\n      }\r\n    }\r\n    \r\n    // Timing optimization recommendations\r\n    if (salaryDay > 20) {\r\n      recommendations.push({\r\n        type: 'optimization',\r\n        title: 'Optimize Expense Timing',\r\n        description: `Since you receive salary on day ${salaryDay}, you have good cash flow timing.`,\r\n        actionItems: [\r\n          'Consider paying rent after salary day to reduce cash requirements',\r\n          'Schedule variable expenses after salary day',\r\n          `Your current setup works well with salary received on day ${salaryDay}`\r\n        ]\r\n      });\r\n    }\r\n    \r\n    return recommendations;\r\n  }, []);\r\n\r\n  // Generate enhanced projection with timing analysis\r\n  const generateEnhancedProjection = useCallback(() => {\r\n    if (!financialData || !financialData.income || !financialData.expenses) {\r\n      return {\r\n        currentMonth: null,\r\n        intraMonthAnalysis: null,\r\n        recommendations: []\r\n      };\r\n    }\r\n\r\n    try {\r\n      const { personalInfo, income, expenses, projectionSettings } = financialData;\r\n      \r\n      // Use existing projection logic but enhance with timing\r\n      const currentDate = new Date();\r\n      const currentMonth = currentDate.getMonth() + 1;\r\n      const currentYear = currentDate.getFullYear();\r\n      \r\n      // Basic monthly calculation (simplified from useProjection)\r\n      const currentSalary = safeParseNumber(income.currentSalary, 0);\r\n      const cpfContribution = currentSalary * ((income.cpfRate || 20) / 100);\r\n      const takeHomePay = currentSalary - cpfContribution;\r\n      const totalExpenses = Array.isArray(expenses) ? \r\n        expenses.reduce((sum, exp) => sum + safeParseNumber(exp.amount, 0), 0) : 0;\r\n      const loanPayment = safeParseNumber(personalInfo.monthlyRepayment, 0);\r\n      \r\n      // Current month analysis\r\n      const currentMonthData = {\r\n        month: currentMonth,\r\n        year: currentYear,\r\n        takeHomePay,\r\n        totalExpenses,\r\n        loanPayment,\r\n        monthlySavings: takeHomePay - totalExpenses - loanPayment,\r\n        cashSavings: safeParseNumber(personalInfo.currentSavings, 0),\r\n        bonusAmount: 0 // No bonus for current month calculation\r\n      };\r\n      \r\n      // Analyze intra-month cash flow (enabled by default)\r\n      let intraMonthAnalysis = null;\r\n      const analysisEnabled = projectionSettings?.enableIntraMonthAnalysis !== false; // Default to true\r\n      \r\n      if (analysisEnabled) {\r\n        intraMonthAnalysis = calculateIntraMonthCashFlow(\r\n          currentMonthData, \r\n          income, \r\n          expenses, \r\n          projectionSettings || {}\r\n        );\r\n      }\r\n      \r\n      return {\r\n        currentMonth: currentMonthData,\r\n        intraMonthAnalysis,\r\n        recommendations: generateRecommendations(intraMonthAnalysis, income, projectionSettings)\r\n      };\r\n    } catch (error) {\r\n      console.error('Error in generateEnhancedProjection:', error);\r\n      handleError(error);\r\n      return {\r\n        currentMonth: null,\r\n        intraMonthAnalysis: null,\r\n        recommendations: []\r\n      };\r\n    }\r\n  }, [financialData, calculateIntraMonthCashFlow, generateRecommendations, handleError]);\r\n\r\n  // Effect to recalculate when data changes\r\n  useEffect(() => {\r\n    setIsAnalyzing(true);\r\n    clearError();\r\n    \r\n    const analysis = generateEnhancedProjection();\r\n    setCashFlowAnalysis(analysis);\r\n    \r\n    if (analysis?.intraMonthAnalysis?.liquidityIssues) {\r\n      setLiquidityWarnings(analysis.intraMonthAnalysis.liquidityIssues);\r\n    } else {\r\n      setLiquidityWarnings([]);\r\n    }\r\n    \r\n    setIsAnalyzing(false);\r\n  }, [financialData, generateEnhancedProjection, clearError]);\r\n\r\n  return {\r\n    // Analysis results\r\n    cashFlowAnalysis,\r\n    liquidityWarnings,\r\n    isAnalyzing,\r\n    \r\n    // Error handling\r\n    error,\r\n    hasError,\r\n    clearError,\r\n    \r\n    // Utility functions\r\n    generateEnhancedProjection,\r\n    \r\n    // Quick access to key metrics\r\n    getCurrentMonthRisk: () => {\r\n      if (!cashFlowAnalysis?.intraMonthAnalysis) return null;\r\n      const { minBalance, liquidityIssues } = cashFlowAnalysis.intraMonthAnalysis;\r\n      \r\n      return {\r\n        riskLevel: liquidityIssues.length > 0 ? 'high' : minBalance < 500 ? 'medium' : 'low',\r\n        minBalance,\r\n        daysAtRisk: liquidityIssues.length,\r\n        recommendedBuffer: cashFlowAnalysis.intraMonthAnalysis.metrics.recommendedBuffer\r\n      };\r\n    }\r\n  };\r\n};\r\n\r\nexport default useIntraMonthCashFlow;","import React, { useContext, useState } from \"react\";\r\nimport { FinancialContext } from \"../context/FinancialContext\";\r\nimport ExpenseBreakdown from \"../components/dashboard/ExpenseBreakdown\";\r\nimport { \r\n  NetWorthChart, \r\n  SavingsGrowthChart, \r\n  CashFlowChart \r\n} from \"../components/charts\";\r\nimport Card from \"../components/common/Card\";\r\nimport { formatCurrency, formatPercent } from \"../services/formatters/currencyFormatters\";\r\nimport CpfDashboard from \"../components/CpfDashboard\";\r\nimport CashFlowTiming from \"../components/dashboard/CashFlowTiming\";\r\nimport UpcomingSpending from \"../components/dashboard/UpcomingSpending\";\r\nimport YearlyExpenseBreakdown from \"../components/charts/YearlyExpenseBreakdown\";\r\nimport ConsolidatedExpenseBreakdown from \"../components/charts/ConsolidatedExpenseBreakdown\";\r\nimport useIntraMonthCashFlow from \"../hooks/useIntraMonthCashFlow\";\r\n\r\n/**\r\n * Dashboard Page Component\r\n * Main financial dashboard showing financial summary, charts, and projections\r\n * \r\n * @returns {JSX.Element}\r\n */\r\nconst Dashboard = () => {\r\n  const {\r\n    financialData,\r\n    updateProjectionSettings,\r\n    totalExpenses,\r\n    getMonthName,\r\n  } = useContext(FinancialContext);\r\n\r\n  const [activeTab, setActiveTab] = useState(\"summary\");\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n\r\n  // Cash flow timing analysis\r\n  const { cashFlowAnalysis, liquidityWarnings } = useIntraMonthCashFlow(financialData);\r\n\r\n  // State for projection rows to display\r\n  const [rowsToDisplay, setRowsToDisplay] = useState(\r\n    financialData.projectionSettings?.rowsToDisplay || 36\r\n  );\r\n\r\n  // Handle changing the number of rows to display\r\n  const handleRowsToDisplayChange = (e) => {\r\n    const value = parseInt(e.target.value);\r\n    setRowsToDisplay(value);\r\n    updateProjectionSettings({\r\n      rowsToDisplay: value,\r\n    });\r\n  };\r\n\r\n  // Calculate financial projection\r\n  const calculateProjection = () => {\r\n    const projection = [];\r\n\r\n    // Extract values from context\r\n    const { personalInfo, income, yearlyBonuses, upcomingSpending } = financialData;\r\n\r\n    // Initial values\r\n    let currentSavings = personalInfo.currentSavings;\r\n    let cpfBalance = personalInfo.currentCpfBalance || 0; // Use user-provided CPF balance\r\n    const birthYear = personalInfo.birthday.year;\r\n    const birthMonth = personalInfo.birthday.month;\r\n\r\n    // Parameters\r\n    let currentSalary = income.currentSalary;\r\n    const cpfRate = income.cpfRate / 100;\r\n    const employerCpfRate = income.employerCpfRate / 100;\r\n    const monthlyExpenses = totalExpenses;\r\n\r\n    // Calculate months - auto-detect current month\r\n    const currentDate = new Date();\r\n    let startMonth = currentDate.getMonth() + 1;\r\n    let startYear = currentDate.getFullYear();\r\n\r\n    // Get salary adjustments if available, or create from legacy data\r\n    const salaryAdjustments = income.salaryAdjustments || [];\r\n\r\n    // If using legacy format, convert to array format for compatibility\r\n    if (!income.salaryAdjustments && income.futureSalary) {\r\n      salaryAdjustments.push({\r\n        month: income.salaryAdjustmentMonth,\r\n        year: income.salaryAdjustmentYear,\r\n        newSalary: income.futureSalary,\r\n      });\r\n    }\r\n\r\n    // Sort salary adjustments by date\r\n    const sortedAdjustments = [...salaryAdjustments].sort((a, b) => {\r\n      if (a.year !== b.year) return a.year - b.year;\r\n      return a.month - b.month;\r\n    });\r\n\r\n    // Get yearly bonuses\r\n    const sortedBonuses = yearlyBonuses\r\n      ? [...yearlyBonuses].sort((a, b) => {\r\n          if (a.year !== b.year) return a.year - b.year;\r\n          return a.month - b.month;\r\n        })\r\n      : [];\r\n\r\n    // Track milestones\r\n    let savingsGoalReachedMonth = null; // This will now track only cash savings (excluding CPF)\r\n\r\n    // Generate projection for 60 months (5 years)\r\n    for (let month = 0; month < 60; month++) {\r\n      const currentMonth = ((startMonth + month - 1) % 12) + 1;\r\n      const currentYear =\r\n        startYear + Math.floor((startMonth + month - 1) / 12);\r\n      const monthYearStr = `${getMonthName(currentMonth).substring(\r\n        0,\r\n        3\r\n      )} ${currentYear}`;\r\n\r\n      // Calculate age\r\n      let ageYears = currentYear - birthYear;\r\n      let ageMonths = currentMonth - birthMonth;\r\n      if (ageMonths < 0) {\r\n        ageYears--;\r\n        ageMonths += 12;\r\n      }\r\n      const ageStr = `${ageYears}y ${ageMonths}m`;\r\n\r\n      // Check for salary adjustments\r\n      for (const adjustment of sortedAdjustments) {\r\n        if (\r\n          currentMonth === adjustment.month &&\r\n          currentYear === adjustment.year\r\n        ) {\r\n          currentSalary = adjustment.newSalary;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Calculate take-home pay\r\n      // const cpfContribution = currentSalary * cpfRate;\r\n      // const employerCpf = currentSalary * employerCpfRate;\r\n\r\n      // Check for yearly bonuses in this month\r\n      let bonusAmount = 0;\r\n      let bonusDescription = \"\";\r\n\r\n      for (const bonus of sortedBonuses) {\r\n        if (\r\n          currentMonth === bonus.month &&\r\n          currentYear === bonus.year\r\n        ) {\r\n          bonusAmount += bonus.amount;\r\n          bonusDescription = bonusDescription\r\n            ? `${bonusDescription}, ${bonus.description}`\r\n            : bonus.description;\r\n        }\r\n      }\r\n\r\n      // Check for upcoming spending in this month\r\n      let upcomingSpendingAmount = 0;\r\n      let upcomingSpendingDescription = \"\";\r\n\r\n      if (upcomingSpending && Array.isArray(upcomingSpending)) {\r\n        for (const spending of upcomingSpending) {\r\n          if (\r\n            currentMonth === spending.month &&\r\n            currentYear === spending.year\r\n          ) {\r\n            upcomingSpendingAmount += spending.amount;\r\n            upcomingSpendingDescription = upcomingSpendingDescription\r\n              ? `${upcomingSpendingDescription}, ${spending.name}`\r\n              : spending.name;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Check if this is the current month and handle salary timing\r\n      const isCurrentMonthProjection = month === 0;\r\n      const salaryDay = income.salaryDay || 25; // Default to 25th if not specified\r\n      const salaryAlreadyReceived = isCurrentMonthProjection && currentDate.getDate() > salaryDay;\r\n      \r\n      // For current month, don't add salary if already received (it's in current savings)\r\n      const effectiveSalary = (isCurrentMonthProjection && salaryAlreadyReceived) ? 0 : currentSalary;\r\n      const effectiveTakeHomePay = effectiveSalary - (effectiveSalary * cpfRate);\r\n      const effectiveCpfContribution = effectiveSalary * cpfRate;\r\n      const effectiveEmployerCpf = effectiveSalary * employerCpfRate;\r\n      \r\n      // Calculate monthly savings (including any bonuses, minus upcoming spending)\r\n      const monthlySavings =\r\n        effectiveTakeHomePay - monthlyExpenses + bonusAmount - upcomingSpendingAmount;\r\n\r\n      // Update balances - use effective values for current month\r\n      cpfBalance += effectiveCpfContribution + effectiveEmployerCpf;\r\n      \r\n      // For current month, only add savings if salary hasn't been received yet\r\n      if (isCurrentMonthProjection && salaryAlreadyReceived) {\r\n        // Don't add monthly savings to avoid double-counting\r\n      } else {\r\n        currentSavings += monthlySavings;\r\n      }\r\n      \r\n      const totalNetWorth = currentSavings + cpfBalance;\r\n\r\n      // Record savings goal milestone - now only for cash savings (excluding CPF)\r\n      if (currentSavings >= 100000 && savingsGoalReachedMonth === null) {\r\n        savingsGoalReachedMonth = month;\r\n      }\r\n\r\n      // Create data point\r\n      projection.push({\r\n        month: month + 1,\r\n        date: monthYearStr,\r\n        age: ageStr,\r\n        monthlySalary: effectiveSalary, // Use effective salary for current month\r\n        monthlyIncome: effectiveSalary + bonusAmount, // Total income including bonus for table display\r\n        takeHomePay: effectiveTakeHomePay, // Use effective take-home for current month\r\n        monthlyExpenses: monthlyExpenses, // Match the expected field name\r\n        expenses: monthlyExpenses,\r\n        monthlySavings: monthlySavings,\r\n        bonusAmount: bonusAmount,\r\n        bonusDescription: bonusDescription,\r\n        upcomingSpendingAmount: upcomingSpendingAmount,\r\n        upcomingSpendingDescription: upcomingSpendingDescription,\r\n        hasUpcomingSpending: upcomingSpendingAmount > 0,\r\n        cpfContribution: effectiveCpfContribution, // Use effective CPF for current month\r\n        employerCpfContribution: effectiveEmployerCpf, // Use effective employer CPF for current month\r\n        totalCpfContribution: effectiveCpfContribution + effectiveEmployerCpf,\r\n        cpfBalance: cpfBalance,\r\n        cashSavings: currentSavings,\r\n        totalNetWorth: totalNetWorth,\r\n        milestone:\r\n          month === savingsGoalReachedMonth\r\n            ? \"100K Cash Savings Goal\"\r\n            : bonusAmount > 0\r\n            ? bonusDescription\r\n            : upcomingSpendingAmount > 0\r\n            ? `Spending: ${upcomingSpendingDescription}`\r\n            : null,\r\n      });\r\n    }\r\n\r\n    return {\r\n      projection,\r\n      savingsGoalReachedMonth:\r\n        savingsGoalReachedMonth !== null\r\n          ? projection[savingsGoalReachedMonth]\r\n          : null,\r\n    };\r\n  };\r\n\r\n  const { projection, savingsGoalReachedMonth } =\r\n    calculateProjection();\r\n\r\n  // Expense breakdown for pie chart\r\n  const expenseData = [\r\n    ...financialData.expenses.map((expense) => ({\r\n      name: expense.name,\r\n      value: expense.amount,\r\n    })),\r\n  ];\r\n\r\n  // Extract summary data\r\n  const timeToSavingsGoal = savingsGoalReachedMonth\r\n    ? `${Math.floor(savingsGoalReachedMonth.month / 12)} years ${\r\n        savingsGoalReachedMonth.month % 12\r\n      } months`\r\n    : \"Not within projection\";\r\n\r\n  // Current monthly income & expenses breakdown\r\n  const currentSalary = financialData.income.currentSalary;\r\n  const cpfContribution =\r\n    currentSalary * (financialData.income.cpfRate / 100);\r\n  const takeHomePay = currentSalary - cpfContribution;\r\n  const monthlyExpenses = totalExpenses;\r\n  const monthlySavings = takeHomePay - monthlyExpenses;\r\n  const savingsRate = monthlySavings / takeHomePay;\r\n\r\n  // Filtered data for charts (every 3 months)\r\n  const chartData = projection.filter((item, index) => index % 3 === 0);\r\n\r\n  // Calculate asset allocation percentages\r\n  // const liquidCash = financialData.personalInfo.currentSavings;\r\n  // const cpfSavings = financialData.personalInfo.currentCpfBalance || 0;\r\n  // const totalAssets = liquidCash + cpfSavings;\r\n\r\n  // const liquidCashPercentage =\r\n  //   totalAssets > 0 ? (liquidCash / totalAssets) * 100 : 0;\r\n  // const cpfPercentage =\r\n  //   totalAssets > 0 ? (cpfSavings / totalAssets) * 100 : 0;\r\n\r\n  // Asset allocation data for pie chart\r\n  // const assetAllocationData = [\r\n  //   { name: \"Liquid Cash\", value: liquidCash },\r\n  //   { name: \"CPF (Locked)\", value: cpfSavings },\r\n  // ];\r\n\r\n  // Calculate upcoming financial events (next 3 months)\r\n  const upcomingEvents = [];\r\n  const today = new Date();\r\n  const currentYear = today.getFullYear();\r\n  const currentMonth = today.getMonth() + 1;\r\n  const nextThreeMonths = [\r\n    { month: currentMonth, year: currentYear },\r\n    {\r\n      month:\r\n        currentMonth + 1 > 12\r\n          ? currentMonth + 1 - 12\r\n          : currentMonth + 1,\r\n      year: currentMonth + 1 > 12 ? currentYear + 1 : currentYear,\r\n    },\r\n    {\r\n      month:\r\n        currentMonth + 2 > 12\r\n          ? currentMonth + 2 - 12\r\n          : currentMonth + 2,\r\n      year: currentMonth + 2 > 12 ? currentYear + 1 : currentYear,\r\n    },\r\n  ];\r\n\r\n  // Find salary adjustments in next 3 months\r\n  if (financialData.income.salaryAdjustments) {\r\n    financialData.income.salaryAdjustments.forEach((adjustment) => {\r\n      const isUpcoming = nextThreeMonths.some(\r\n        (period) =>\r\n          period.month === adjustment.month &&\r\n          period.year === adjustment.year\r\n      );\r\n\r\n      if (isUpcoming) {\r\n        upcomingEvents.push({\r\n          type: \"Salary Adjustment\",\r\n          date: `${getMonthName(adjustment.month)} ${\r\n            adjustment.year\r\n          }`,\r\n          amount: adjustment.newSalary,\r\n          description: `Salary changes to ${formatCurrency(\r\n            adjustment.newSalary\r\n          )}`,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // Find bonuses in next 3 months\r\n  if (financialData.yearlyBonuses) {\r\n    financialData.yearlyBonuses.forEach((bonus) => {\r\n      const isUpcoming = nextThreeMonths.some(\r\n        (period) =>\r\n          period.month === bonus.month && period.year === bonus.year\r\n      );\r\n\r\n      if (isUpcoming) {\r\n        upcomingEvents.push({\r\n          type: \"Bonus\",\r\n          date: `${getMonthName(bonus.month)} ${bonus.year}`,\r\n          amount: bonus.amount,\r\n          description: bonus.description,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // InfoItem component for consistent display of key-value pairs\r\n  // const InfoItem = ({ label, value, highlighted = false }) => (\r\n  //   <div\r\n  //     className={`py-2 flex justify-between items-center border-b ${\r\n  //       highlighted ? \"bg-blue-50\" : \"\"\r\n  //     }`}\r\n  //   >\r\n  //     <span className=\"text-gray-700\">{label}</span>\r\n  //     <span\r\n  //       className={`font-medium ${highlighted ? \"text-blue-700\" : \"\"}`}\r\n  //     >\r\n  //       {value}\r\n  //     </span>\r\n  //   </div>\r\n  // );\r\n\r\n  // Status indicator component\r\n  const StatusIndicator = ({\r\n    value,\r\n    threshold1,\r\n    threshold2,\r\n    reverse = false,\r\n  }) => {\r\n    let color = \"bg-green-500\";\r\n\r\n    if (reverse) {\r\n      if (value > threshold1) color = \"bg-yellow-500\";\r\n      if (value > threshold2) color = \"bg-red-500\";\r\n    } else {\r\n      if (value < threshold1) color = \"bg-yellow-500\";\r\n      if (value < threshold2) color = \"bg-red-500\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"flex items-center\">\r\n        <div className={`w-3 h-3 rounded-full ${color} mr-2`}></div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 rounded-lg max-w-7xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-700 to-blue-500 text-white p-6 rounded-lg mb-8 shadow-md\">\r\n        <h1 className=\"text-xl md:text-2xl lg:text-3xl font-bold text-center\">\r\n          PERSONAL FINANCIAL DASHBOARD\r\n        </h1>\r\n      </div>\r\n\r\n      {/* Mobile-friendly Navigation Tabs */}\r\n      <div className=\"flex overflow-x-auto mb-8 bg-white rounded-lg shadow-sm border border-gray-200\">\r\n        <button\r\n          className={`py-4 px-6 font-medium whitespace-nowrap flex-shrink-0 transition-colors ${\r\n            activeTab === \"summary\"\r\n              ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50\"\r\n              : \"text-gray-600 hover:text-blue-600 hover:bg-gray-50\"\r\n          }`}\r\n          onClick={() => setActiveTab(\"summary\")}\r\n        >\r\n          Summary\r\n        </button>\r\n        <button\r\n          className={`py-4 px-6 font-medium whitespace-nowrap flex-shrink-0 transition-colors ${\r\n            activeTab === \"milestones\"\r\n              ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50\"\r\n              : \"text-gray-600 hover:text-blue-600 hover:bg-gray-50\"\r\n          }`}\r\n          onClick={() => setActiveTab(\"milestones\")}\r\n        >\r\n          Milestones\r\n        </button>\r\n        <button\r\n          className={`py-4 px-6 font-medium whitespace-nowrap flex-shrink-0 transition-colors ${\r\n            activeTab === \"charts\"\r\n              ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50\"\r\n              : \"text-gray-600 hover:text-blue-600 hover:bg-gray-50\"\r\n          }`}\r\n          onClick={() => setActiveTab(\"charts\")}\r\n        >\r\n          Charts\r\n        </button>\r\n        <button\r\n          className={`py-4 px-6 font-medium whitespace-nowrap flex-shrink-0 transition-colors ${\r\n            activeTab === \"projection\"\r\n              ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50\"\r\n              : \"text-gray-600 hover:text-blue-600 hover:bg-gray-50\"\r\n          }`}\r\n          onClick={() => setActiveTab(\"projection\")}\r\n        >\r\n          Projection\r\n        </button>\r\n        <button\r\n          className={`py-4 px-6 font-medium whitespace-nowrap flex-shrink-0 transition-colors ${\r\n            activeTab === \"cpf\"\r\n              ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50\"\r\n              : \"text-gray-600 hover:text-blue-600 hover:bg-gray-50\"\r\n          }`}\r\n          onClick={() => setActiveTab(\"cpf\")}\r\n        >\r\n          CPF\r\n        </button>\r\n      </div>\r\n\r\n      {/* Summary Tab */}\r\n      {activeTab === \"summary\" && (\r\n        <div className=\"space-y-6\">\r\n          {/* Financial Snapshot Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            {/* Liquid Cash Card */}\r\n            <div className=\"bg-white p-4 rounded-lg shadow-md border-l-4 border-green-500\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Liquid Cash\r\n                  </p>\r\n                  <p className=\"text-2xl font-bold text-green-700\">\r\n                    {formatCurrency(\r\n                      financialData.personalInfo\r\n                        .currentSavings\r\n                    )}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    Immediately available\r\n                  </p>\r\n                </div>\r\n                <StatusIndicator\r\n                  value={\r\n                    financialData.personalInfo\r\n                      .currentSavings\r\n                  }\r\n                  threshold1={5000}\r\n                  threshold2={2000}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* CPF Balance Card */}\r\n            <div className=\"bg-white p-4 rounded-lg shadow-md border-l-4 border-purple-500\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    CPF Balance\r\n                  </p>\r\n                  <p className=\"text-2xl font-bold text-purple-700\">\r\n                    {formatCurrency(\r\n                      financialData.personalInfo\r\n                        .currentCpfBalance || 0\r\n                    )}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    Locked until retirement\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Net Worth Card */}\r\n            <div className=\"bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-500\">\r\n              <p className=\"text-sm text-gray-500\">\r\n                Total Net Worth\r\n              </p>\r\n              <p className=\"text-2xl font-bold text-blue-700\">\r\n                {formatCurrency(\r\n                  financialData.personalInfo.currentSavings +\r\n                    (financialData.personalInfo\r\n                      .currentCpfBalance || 0)\r\n                )}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500\">\r\n                Total assets\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Monthly Overview Card */}\r\n          <Card title=\"Monthly Cash Flow\" titleColor=\"bg-green-600\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n              <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                <h3 className=\"font-medium text-blue-800 mb-2\">\r\n                  Monthly Income\r\n                </h3>\r\n                <p className=\"text-2xl font-bold text-blue-700\">\r\n                  {formatCurrency(takeHomePay)}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Take-home pay after CPF\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-red-50 p-3 rounded-lg\">\r\n                <h3 className=\"font-medium text-red-800 mb-2\">\r\n                  Monthly Expenses\r\n                </h3>\r\n                <p className=\"text-2xl font-bold text-red-700\">\r\n                  {formatCurrency(monthlyExpenses)}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Total living expenses\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-green-50 p-3 rounded-lg\">\r\n                <h3 className=\"font-medium text-green-800 mb-2\">\r\n                  Monthly Savings\r\n                </h3>\r\n                <p className=\"text-2xl font-bold text-green-700\">\r\n                  {formatCurrency(monthlySavings)}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  {formatPercent(savingsRate)} of take-home\r\n                  pay\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Cash Flow Progress Bar */}\r\n            <div className=\"mt-2 mb-6\">\r\n              <div className=\"flex justify-between text-sm mb-1\">\r\n                <span className=\"text-blue-600 font-medium\">\r\n                  Income\r\n                </span>\r\n                <span className=\"text-gray-600\">\r\n                  {formatCurrency(takeHomePay)}\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\">\r\n                <div className=\"flex h-full\">\r\n                  <div\r\n                    className=\"bg-red-500 h-full\"\r\n                    style={{\r\n                      width: `${\r\n                        (monthlyExpenses /\r\n                          takeHomePay) *\r\n                        100\r\n                      }%`,\r\n                    }}\r\n                    title=\"Living Expenses\"\r\n                  ></div>\r\n                  <div\r\n                    className=\"bg-green-500 h-full\"\r\n                    style={{\r\n                      width: `${\r\n                        (monthlySavings / takeHomePay) *\r\n                        100\r\n                      }%`,\r\n                    }}\r\n                    title=\"Savings\"\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex text-xs mt-1 justify-between\">\r\n                <span className=\"text-red-600\">\r\n                  Expenses: {formatCurrency(monthlyExpenses)}\r\n                </span>\r\n                <span className=\"text-green-600\">\r\n                  Savings: {formatCurrency(monthlySavings)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Expense Breakdown (Using our new component) */}\r\n          <ExpenseBreakdown\r\n            expenseData={expenseData}\r\n            totalExpenses={totalExpenses}\r\n          />\r\n\r\n          {/* Cash Flow Timing Analysis */}\r\n          <CashFlowTiming \r\n            cashFlowAnalysis={cashFlowAnalysis}\r\n            liquidityWarnings={liquidityWarnings}\r\n          />\r\n\r\n          {/* Upcoming Spending */}\r\n          <UpcomingSpending />\r\n\r\n          {/* Yearly Expenses Section */}\r\n          {financialData.yearlyExpenses && financialData.yearlyExpenses.length > 0 && (\r\n            <div className=\"space-y-6\">\r\n              {/* Year Selector for Yearly Expenses */}\r\n              <div className=\"bg-white p-4 rounded-lg shadow-md border-l-4 border-amber-500\">\r\n                <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-gray-900\">Yearly Expenses Analysis</h3>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">View yearly expenses for a specific year</p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <label htmlFor=\"yearSelector\" className=\"text-sm font-medium text-gray-700\">\r\n                      Select Year:\r\n                    </label>\r\n                    <select\r\n                      id=\"yearSelector\"\r\n                      value={selectedYear}\r\n                      onChange={(e) => setSelectedYear(parseInt(e.target.value))}\r\n                      className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-colors\"\r\n                    >\r\n                      {[...Array(10)].map((_, i) => {\r\n                        const year = new Date().getFullYear() - 2 + i;\r\n                        return (\r\n                          <option key={year} value={year}>\r\n                            {year}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Yearly Expense Breakdown */}\r\n              <YearlyExpenseBreakdown\r\n                yearlyExpenses={financialData.yearlyExpenses}\r\n                selectedYear={selectedYear}\r\n              />\r\n\r\n              {/* Consolidated Expense Breakdown (Monthly + Yearly) */}\r\n              <ConsolidatedExpenseBreakdown\r\n                monthlyExpenses={financialData.expenses}\r\n                yearlyExpenses={financialData.yearlyExpenses}\r\n                selectedYear={selectedYear}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Charts Tab */}\r\n      {activeTab === \"charts\" && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 gap-6\">\r\n            {/* Net Worth Chart */}\r\n            <NetWorthChart\r\n              chartData={chartData}\r\n              savingsGoalReachedMonth={savingsGoalReachedMonth}\r\n            />\r\n\r\n            {/* Savings Growth Chart */}\r\n            <SavingsGrowthChart \r\n              chartData={chartData} \r\n              savingsGoalReachedMonth={savingsGoalReachedMonth} \r\n            />\r\n\r\n            {/* Cash Flow Chart */}\r\n            <CashFlowChart chartData={chartData} />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Milestones Tab */}\r\n      {activeTab === \"milestones\" && (\r\n        <div className=\"space-y-6\">\r\n          <Card title=\"Key Financial Milestones\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead>\r\n                  <tr className=\"bg-gray-50\">\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Milestone\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Date\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Time to Achieve\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Age\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Savings at Milestone\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  <tr className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 text-sm text-gray-700 font-medium\">\r\n                      $100,000 Savings Achieved\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                      {savingsGoalReachedMonth\r\n                        ? savingsGoalReachedMonth.date\r\n                        : \"Not within projection\"}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                      {timeToSavingsGoal}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                      {savingsGoalReachedMonth\r\n                        ? savingsGoalReachedMonth.age\r\n                        : \"-\"}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                      {savingsGoalReachedMonth\r\n                        ? formatCurrency(\r\n                            savingsGoalReachedMonth.cashSavings\r\n                          )\r\n                        : \"-\"}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Yearly Bonuses as Milestones */}\r\n                  {financialData.yearlyBonuses &&\r\n                    financialData.yearlyBonuses.map(\r\n                      (bonus, index) => {\r\n                        // Find projection entry for this bonus\r\n                        const bonusMonth =\r\n                          projection.find((p) =>\r\n                            p.date.includes(\r\n                              `${getMonthName(\r\n                                bonus.month\r\n                              ).substring(\r\n                                0,\r\n                                3\r\n                              )} ${bonus.year}`\r\n                            )\r\n                          );\r\n\r\n                        if (!bonusMonth) return null;\r\n\r\n                        return (\r\n                          <tr\r\n                            key={`bonus-${index}`}\r\n                            className=\"hover:bg-gray-50 bg-green-50\"\r\n                          >\r\n                            <td className=\"px-4 py-3 text-sm text-gray-700 font-medium\">\r\n                              {bonus.description}\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                              {bonusMonth.date}\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                              {Math.floor(\r\n                                bonusMonth.month /\r\n                                  12\r\n                              )}{\" \"}\r\n                              years{\" \"}\r\n                              {bonusMonth.month %\r\n                                12}{\" \"}\r\n                              months\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                              {bonusMonth.age}\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                              {formatCurrency(\r\n                                bonus.amount\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      }\r\n                    )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Progress Towards Savings Goal */}\r\n          <Card title=\"Progress Towards $100K Cash Savings\">\r\n              {savingsGoalReachedMonth && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between text-sm mb-1\">\r\n                    <span className=\"text-gray-600\">\r\n                      Starting Cash:{\" \"}\r\n                      <span className=\"font-medium\">\r\n                        {formatCurrency(\r\n                          financialData.personalInfo\r\n                            .currentSavings\r\n                        )}\r\n                      </span>\r\n                    </span>\r\n                    <span className=\"text-gray-600\">\r\n                      Goal:{\" \"}\r\n                      <span className=\"font-medium text-green-600\">\r\n                        {formatCurrency(100000)}\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-4 overflow-hidden\">\r\n                    <div\r\n                      className=\"bg-green-500 h-4 rounded-full transition-all duration-500 ease-out\"\r\n                      style={{\r\n                        width: `${Math.min(\r\n                          100,\r\n                          (financialData.personalInfo\r\n                            .currentSavings /\r\n                            100000) *\r\n                            100\r\n                        )}%`,\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  <div className=\"p-4 bg-green-50 rounded-lg border border-green-200 mt-4\">\r\n                    <div className=\"flex items-start\">\r\n                      <svg\r\n                        className=\"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth=\"2\"\r\n                          d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                        ></path>\r\n                      </svg>\r\n                      <div>\r\n                        <p className=\"text-green-800 font-medium\">\r\n                          Congratulations! You'll\r\n                          reach $100,000 in cash\r\n                          savings by{\" \"}\r\n                          <span className=\"font-bold\">\r\n                            {\r\n                              savingsGoalReachedMonth.date\r\n                            }\r\n                          </span>{\" \"}\r\n                          at age{\" \"}\r\n                          {\r\n                            savingsGoalReachedMonth.age\r\n                          }\r\n                          .\r\n                        </p>\r\n                        <p className=\"mt-1 text-green-700\">\r\n                          Total savings period:{\" \"}\r\n                          {timeToSavingsGoal} from{\" \"}\r\n                          {getMonthName(new Date().getMonth() + 1)}{\" \"}\r\n                          {new Date().getFullYear()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {!savingsGoalReachedMonth && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between text-sm mb-1\">\r\n                    <span className=\"text-gray-600\">\r\n                      Starting Cash:{\" \"}\r\n                      <span className=\"font-medium\">\r\n                        {formatCurrency(\r\n                          financialData.personalInfo\r\n                            .currentSavings\r\n                        )}\r\n                      </span>\r\n                    </span>\r\n                    <span className=\"text-gray-600\">\r\n                      Current:{\" \"}\r\n                      <span className=\"font-medium text-blue-600\">\r\n                        {formatCurrency(\r\n                          projection[\r\n                            projection.length - 1\r\n                          ].cashSavings\r\n                        )}\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-4 overflow-hidden\">\r\n                    <div\r\n                      className=\"bg-blue-500 h-4 rounded-full transition-all duration-500 ease-out\"\r\n                      style={{\r\n                        width: `${Math.max(\r\n                          0,\r\n                          Math.min(\r\n                            100,\r\n                            (financialData\r\n                              .personalInfo\r\n                              .currentSavings /\r\n                              100000) *\r\n                              100\r\n                          )\r\n                        )}%`,\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200 mt-4\">\r\n                    <div className=\"flex items-start\">\r\n                      <svg\r\n                        className=\"h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth=\"2\"\r\n                          d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                        ></path>\r\n                      </svg>\r\n                      <div>\r\n                        <p className=\"text-blue-800 font-medium\">\r\n                          You're making progress, but\r\n                          you won't reach the $100,000\r\n                          cash savings goal within the\r\n                          5-year projection period.\r\n                        </p>\r\n                        <p className=\"mt-1 text-blue-700\">\r\n                          Consider increasing your\r\n                          savings rate after paying\r\n                          off your loan to accelerate\r\n                          progress.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Projection Table Tab */}\r\n      {activeTab === \"projection\" && (\r\n        <Card title=\"Monthly Financial Projection\">\r\n          {/* Rows to Display Control */}\r\n          <div className=\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n            <div className=\"flex flex-wrap items-center justify-between\">\r\n              <div className=\"mr-4 mb-2 sm:mb-0\">\r\n                <label\r\n                  htmlFor=\"rowsToDisplay\"\r\n                  className=\"block text-sm font-medium text-blue-700 mb-1\"\r\n                >\r\n                  Months to Display:\r\n                </label>\r\n                <select\r\n                  id=\"rowsToDisplay\"\r\n                  value={rowsToDisplay}\r\n                  onChange={handleRowsToDisplayChange}\r\n                  className=\"w-32 px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                >\r\n                  <option value={12}>\r\n                    12 months (1 year)\r\n                  </option>\r\n                  <option value={24}>\r\n                    24 months (2 years)\r\n                  </option>\r\n                  <option value={36}>\r\n                    36 months (3 years)\r\n                  </option>\r\n                  <option value={48}>\r\n                    48 months (4 years)\r\n                  </option>\r\n                  <option value={60}>\r\n                    60 months (5 years)\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <div className=\"hidden sm:block text-blue-700 mr-2\">\r\n                  <svg\r\n                    className=\"w-5 h-5\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                    ></path>\r\n                  </svg>\r\n                </div>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Showing {rowsToDisplay} months of financial\r\n                  projection data\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto -mx-4\">\r\n            <div className=\"inline-block min-w-full align-middle p-4\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead>\r\n                  <tr className=\"bg-gray-50\">\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Month\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Date\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Take-Home\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Expenses\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Bonus\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Upcoming Spending\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Monthly Savings\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      Cash Savings\r\n                    </th>\r\n                    <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">\r\n                      CPF Balance\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {projection\r\n                    .slice(0, rowsToDisplay)\r\n                    .map((month, index) => (\r\n                      <tr\r\n                        key={index}\r\n                        className={`${\r\n                          month.milestone\r\n                            ? \"bg-green-50\"\r\n                            : index % 2 === 0\r\n                            ? \"bg-gray-50\"\r\n                            : \"\"\r\n                        } hover:bg-blue-50 transition-colors`}\r\n                      >\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap\">\r\n                          {month.month}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap\">\r\n                          {month.date}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-green-600\">\r\n                          {formatCurrency(\r\n                            month.takeHomePay\r\n                          )}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-orange-600\">\r\n                          {formatCurrency(\r\n                            month.expenses\r\n                          )}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-purple-600\">\r\n                          {month.bonusAmount > 0\r\n                            ? formatCurrency(\r\n                                month.bonusAmount\r\n                              )\r\n                            : \"-\"}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-red-600\">\r\n                          {month.upcomingSpendingAmount > 0 ? (\r\n                            <div className=\"text-xs\">\r\n                              <div>{formatCurrency(month.upcomingSpendingAmount)}</div>\r\n                              {month.upcomingSpendingDescription && (\r\n                                <div className=\"text-gray-500 font-normal truncate max-w-20\" title={month.upcomingSpendingDescription}>\r\n                                  {month.upcomingSpendingDescription}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          ) : \"-\"}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-green-600\">\r\n                          {formatCurrency(\r\n                            month.monthlySavings\r\n                          )}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-green-600\">\r\n                          {formatCurrency(\r\n                            month.cashSavings\r\n                          )}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-purple-600\">\r\n                          {formatCurrency(\r\n                            month.cpfBalance\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Show milestone information if available */}\r\n          {(savingsGoalReachedMonth ||\r\n            financialData.yearlyBonuses?.length > 0) && (\r\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n              <h3 className=\"font-medium text-blue-700 mb-2\">\r\n                Key Milestones:\r\n              </h3>\r\n              <ul className=\"space-y-2\">\r\n                {savingsGoalReachedMonth && (\r\n                  <li className=\"flex items-start\">\r\n                    <svg\r\n                      className=\"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth=\"2\"\r\n                        d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                      ></path>\r\n                    </svg>\r\n                    <span>\r\n                      <span className=\"font-medium\">\r\n                        $100K Savings Reached:\r\n                      </span>{\" \"}\r\n                      {savingsGoalReachedMonth.date}{\" \"}\r\n                      (Month{\" \"}\r\n                      {savingsGoalReachedMonth.month})\r\n                    </span>\r\n                  </li>\r\n                )}\r\n\r\n                {/* List bonuses as milestones */}\r\n                {financialData.yearlyBonuses &&\r\n                  financialData.yearlyBonuses.map(\r\n                    (bonus, index) => {\r\n                      // Find date for this bonus\r\n                      const bonusProjectionDate =\r\n                        projection.find((p) =>\r\n                          p.date.includes(\r\n                            `${getMonthName(\r\n                              bonus.month\r\n                            ).substring(0, 3)} ${\r\n                              bonus.year\r\n                            }`\r\n                          )\r\n                        )?.date;\r\n\r\n                      if (!bonusProjectionDate)\r\n                        return null;\r\n\r\n                      return (\r\n                        <li\r\n                          key={`bonus-milestone-${index}`}\r\n                          className=\"flex items-start\"\r\n                        >\r\n                          <svg\r\n                            className=\"h-5 w-5 text-purple-500 mr-2 mt-0.5 flex-shrink-0\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"2\"\r\n                              d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                            ></path>\r\n                          </svg>\r\n                          <span>\r\n                            <span className=\"font-medium\">\r\n                              {bonus.description}:\r\n                            </span>{\" \"}\r\n                            {bonusProjectionDate} -{\" \"}\r\n                            {formatCurrency(\r\n                              bonus.amount\r\n                            )}\r\n                          </span>\r\n                        </li>\r\n                      );\r\n                    }\r\n                  )}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n\r\n      {/* CPF Tab */}\r\n      {activeTab === \"cpf\" && <CpfDashboard />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"names":["Card","_ref","children","title","className","titleColor","_jsxs","concat","_jsx","memo","formatCurrency","value","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","expenseData","totalExpenses","COLORS","map","expense","index","name","ResponsiveContainer","width","height","PieChart","Pie","data","dataKey","nameKey","cx","cy","outerRadius","fill","labelLine","label","_ref2","percent","toFixed","entry","Cell","length","Tooltip","formatter","NetWorthChart","chartData","savingsGoalReachedMonth","ComposedChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","angle","textAnchor","tick","fontSize","YAxis","yAxisId","tickFormatter","position","offset","Legend","Area","type","stroke","fillOpacity","activeDot","r","ReferenceLine","x","date","SavingsGrowthChart","AreaChart","y","limitedData","slice","BarChart","Bar","useUIPreferences","theme","setTheme","useState","localStorage","getItem","chartColors","setChartColors","savedColors","JSON","parse","primary","secondary","tertiary","quaternary","danger","success","warning","compactMode","setCompactMode","currencyFormat","setCurrencyFormat","dateFormat","setDateFormat","toggleTheme","useCallback","prevTheme","newTheme","setItem","updateChartColor","colorKey","newColor","prevColors","updatedColors","_objectSpread","stringify","resetChartColors","defaultColors","toggleCompactMode","prev","newMode","String","updateCurrencyFormat","updateDateFormat","useEffect","document","documentElement","setAttribute","setProperty","getChartColorPalette","amount","isDarkMode","cpfMilestone","cpfColor","contentStyle","backgroundColor","color","border","labelStyle","wrapperStyle","EMPLOYEE_TYPE","SINGAPOREAN","PR_FIRST_YEAR","PR_SECOND_YEAR","PR_THIRD_YEAR_ONWARDS","CITIZEN_RATES","PR_FIRST_YEAR_RATES","PR_SECOND_YEAR_RATES","PR_THIRD_YEAR_ONWARDS_RATES","calculateCpfContributions","salary","employeeType","arguments","undefined","age","additionalWage","totalOrdinaryWageForYear","employeeRate","employerRate","getCpfRates","ageBracket","getAgeBracket","Error","cappedSalary","Math","min","employeeContribution","round","employerContribution","additionalEmployeeContribution","additionalEmployerContribution","yearToDateOW","remainingAWCeiling","max","cappedAdditionalWage","totalEmployeeContribution","totalEmployerContribution","totalContribution","takeHomePay","rates","error","console","initialData","bonusMonths","annualBonusAmount","cpfInputs","setCpfInputs","cpfResults","useMemo","monthlyCpf","bonusCpf","bonusAmount","yearlyCpf","monthlySalary","monthlyContribution","bonusContribution","bonusSalary","yearlyEmployeeContribution","yearlyEmployerContribution","yearlyTotalContribution","monthlyDetails","bonusDetails","estimateYearlyCpfContributions","monthly","bonus","yearly","totalMonthlyContribution","updateCpfInput","key","updateSalary","newSalary","Number","updateEmployeeType","newType","Object","values","includes","resetToDefaults","updates","hasUpdates","onChange","useCpfCalculator","showAdvanced","setShowAdvanced","formatPercentage","e","parseFloat","target","placeholder","step","parseInt","onClick","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_Fragment","CpfDashboard","_financialData$income","_financialData$yearly","_financialData$person2","_financialData$income6","_financialData$income7","_financialData$income8","_financialData$income10","_financialData$person3","_financialData$income11","_financialData$income12","_financialData$income13","_financialData$income14","_financialData$person4","_financialData$income15","_financialData$income16","_financialData$income17","_financialData$income18","financialData","updateFinancialData","calculateAge","useFinancial","localCpfData","setLocalCpfData","income","currentSalary","yearlyBonuses","projectionData","setProjectionData","generateProjectionData","_financialData$person","_financialData$income2","_financialData$income3","_financialData$income4","_financialData$income5","currentCpfBalance","personalInfo","cpfRate","employerCpfRate","projectedBalance","currentDate","Date","currentYear","getFullYear","currentMonth","getMonth","year","month","formattedDate","toLocaleDateString","push","cpfBalance","prevData","_financialData$income9","_financialData$yearly2","handleSaveChanges","_financialData$income0","_financialData$income1","CpfCalculator","updatedData","CpfGrowthChart","calculateProjectedCpfAt55","yearlyContribution","currentAge","yearsToAge55","i","cashFlowAnalysis","liquidityWarnings","intraMonthAnalysis","dailyEvents","minBalance","minBalanceDay","metrics","salaryEvent","find","event","rentEvent","description","toLowerCase","day","recommendedBuffer","recommendations","rec","actionItems","item","itemIndex","UpcomingSpending","getMonthName","sortedUpcomingSpending","upcomingSpending","sort","a","b","formatSpendingDate","spending","id","reduce","total","yearlyExpenses","selectedYear","expensesData","Array","isArray","filter","startsBeforeOrDuring","startYear","endsAfterOrDuring","endYear","totalYearlyExpenses","sum","averageMonthly","monthNames","toLocaleString","colSpan","monthlyExpenses","monthlyTotal","yearlyExpensesForYear","yearlyTotal","yearlyMonthlyAverage","totalMonthlyExpenses","annualTotal","expenseCategories","categories","forEach","monthlyAvg","category","componentName","setError","hasError","setHasError","handleError","additionalData","shouldLog","logError","clearError","tryCatch","fn","args","withErrorHandling","asyncFn","async","_len","_key","setCashFlowAnalysis","setLiquidityWarnings","isAnalyzing","setIsAnalyzing","useErrorHandler","calculateIntraMonthCashFlow","monthData","expenses","projectionSettings","salaryDay","safeParseNumber","minimumBuffer","minimumCashBuffer","salaryDate","salaryAmount","dueDay","runningBalance","cashSavings","liquidityIssues","dailyBalances","balance","change","shortfall","severity","salaryToFirstExpenseGap","cashFlowStress","abs","generateRecommendations","analysis","settings","criticalIssues","issue","ceil","generateEnhancedProjection","exp","loanPayment","monthlyRepayment","currentMonthData","monthlySavings","currentSavings","enableIntraMonthAnalysis","_analysis$intraMonthA","getCurrentMonthRisk","riskLevel","daysAtRisk","Dashboard","_financialData$projec","updateProjectionSettings","useContext","FinancialContext","activeTab","setActiveTab","setSelectedYear","useIntraMonthCashFlow","rowsToDisplay","setRowsToDisplay","projection","calculateProjection","birthYear","birthday","birthMonth","startMonth","salaryAdjustments","futureSalary","salaryAdjustmentMonth","salaryAdjustmentYear","sortedAdjustments","sortedBonuses","floor","monthYearStr","substring","ageYears","ageMonths","ageStr","adjustment","bonusDescription","upcomingSpendingAmount","upcomingSpendingDescription","isCurrentMonthProjection","salaryAlreadyReceived","getDate","effectiveSalary","effectiveTakeHomePay","effectiveCpfContribution","effectiveEmployerCpf","totalNetWorth","monthlyIncome","hasUpcomingSpending","cpfContribution","employerCpfContribution","totalCpfContribution","milestone","timeToSavingsGoal","savingsRate","upcomingEvents","today","nextThreeMonths","some","period","StatusIndicator","threshold1","threshold2","reverse","ExpenseBreakdown","CashFlowTiming","htmlFor","_","YearlyExpenseBreakdown","ConsolidatedExpenseBreakdown","CashFlowChart","bonusMonth","p","_projection$find","bonusProjectionDate"],"sourceRoot":""}