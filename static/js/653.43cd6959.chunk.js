"use strict";(self.webpackChunkmy_financial_dashboard=self.webpackChunkmy_financial_dashboard||[]).push([[653],{1653:(e,t,s)=>{s.r(t),s.d(t,{default:()=>K});var a=s(5043),n=s(4668),r=s(108),l=s(163),i=s(4240),o=s(7869),c=s(6150),d=s(579);const m=e=>{let{children:t,title:s,className:a="",titleColor:n="bg-blue-600"}=e;return(0,d.jsxs)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${a}`,children:[s&&(0,d.jsx)("div",{className:`${n} px-4 py-3`,children:(0,d.jsx)("h2",{className:"text-lg font-semibold text-white",children:s})}),(0,d.jsx)("div",{className:"p-4",children:t})]})},h=e=>new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),x=e=>{let{expenseData:t,totalExpenses:s,loanPayment:a}=e;const n=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#ff7300","#ff0000","#B10DC9","#FF851B","#85144b","#3D9970","#2ECC40","#01FF70"];return(0,d.jsx)(m,{title:"Monthly Expense Breakdown",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-gray-50",children:[(0,d.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,d.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),(0,d.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[t.filter((e=>"Loan Payment"!==e.name)).map(((e,t)=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:e.name}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 text-right",children:h(e.value)})]},t))),(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Loan Payment"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 text-right",children:h(a)})]}),(0,d.jsxs)("tr",{className:"bg-blue-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-blue-700",children:"Total"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-blue-700 text-right",children:h(s+a)})]})]})]})}),(0,d.jsx)("div",{className:"h-64 md:h-80",children:(0,d.jsx)(r.u,{width:"100%",height:"100%",children:(0,d.jsxs)(l.r,{children:[(0,d.jsx)(i.F,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:"70%",fill:"#8884d8",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return`${t}: ${(100*s).toFixed(0)}%`},children:t.map(((e,t)=>(0,d.jsx)(o.f,{fill:n[t%n.length]},`cell-${t}`)))}),(0,d.jsx)(c.m,{formatter:e=>h(e)})]})})})]})})};var u=s(6335),y=s(7734),p=s(2185),g=s(6026),f=s(1327),j=s(3839),b=s(168),v=s(3243);const N=e=>{let{chartData:t,loanPaidOffMonth:s,savingsGoalReachedMonth:a}=e;return(0,d.jsxs)(m,{title:"Net Worth Growth",titleColor:"bg-blue-600",children:[(0,d.jsx)("div",{className:"h-80",children:(0,d.jsx)(r.u,{width:"100%",height:"100%",children:(0,d.jsxs)(u.X,{data:t,margin:{top:10,right:10,left:0,bottom:20},children:[(0,d.jsx)(y.d,{strokeDasharray:"3 3"}),(0,d.jsx)(p.W,{dataKey:"date",angle:-45,textAnchor:"end",height:60,tick:{fontSize:12}}),(0,d.jsx)(g.h,{yAxisId:"left",tickFormatter:e=>h(e),width:70,label:{value:"Savings",angle:-90,position:"insideLeft",offset:10}}),(0,d.jsx)(g.h,{yAxisId:"right",orientation:"right",tickFormatter:e=>h(e),width:70,label:{value:"Loan Remaining",angle:90,position:"insideRight",offset:10}}),(0,d.jsx)(c.m,{formatter:e=>h(e)}),(0,d.jsx)(f.s,{}),(0,d.jsx)(j.G,{yAxisId:"left",type:"monotone",dataKey:"cashSavings",name:"Cash Savings",stroke:"#2FD87B",fill:"#2FD87B",fillOpacity:.3,activeDot:{r:6}}),(0,d.jsx)(j.G,{yAxisId:"left",type:"monotone",dataKey:"cpfBalance",name:"CPF Balance (Locked)",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.3,activeDot:{r:6}}),(0,d.jsx)(b.N,{yAxisId:"right",type:"monotone",dataKey:"loanRemaining",name:"Remaining Loan",stroke:"#ff7300",strokeWidth:2,dot:{r:3},activeDot:{r:6}}),s&&(0,d.jsx)(v.e,{yAxisId:"right",x:s.date,stroke:"green",strokeDasharray:"3 3",label:{value:"Loan Paid Off",position:"top",fill:"green"}}),a&&(0,d.jsx)(v.e,{yAxisId:"left",x:a.date,stroke:"blue",strokeDasharray:"3 3",label:{value:"$100K Savings",position:"top",fill:"blue"}})]})})}),(0,d.jsxs)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Savings Growth"}),(0,d.jsx)("p",{className:"text-sm",children:a?`You'll reach $100K in cash savings by ${a.date}`:"Your cash savings will grow over the projection period"})]}),(0,d.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-orange-800 mb-2",children:"Loan Repayment"}),(0,d.jsx)("p",{className:"text-sm",children:s?`You'll be debt-free by ${s.date}`:"Your loan will decrease over the projection period"})]})]})]})};var w=s(877);const C=e=>{let{chartData:t,savingsGoalReachedMonth:s}=e;return(0,d.jsxs)(m,{title:"Savings Growth Projection",titleColor:"bg-green-600",children:[(0,d.jsx)("div",{className:"h-80",children:(0,d.jsx)(r.u,{width:"100%",height:"100%",children:(0,d.jsxs)(w.Q,{data:t,margin:{top:10,right:10,left:0,bottom:20},children:[(0,d.jsx)(y.d,{strokeDasharray:"3 3"}),(0,d.jsx)(p.W,{dataKey:"date",angle:-45,textAnchor:"end",height:60,tick:{fontSize:12}}),(0,d.jsx)(g.h,{tickFormatter:e=>h(e),width:70}),(0,d.jsx)(c.m,{formatter:e=>h(e)}),(0,d.jsx)(f.s,{}),(0,d.jsx)(j.G,{type:"monotone",dataKey:"cashSavings",name:"Cash Savings",stroke:"#2FD87B",fill:"#2FD87B",fillOpacity:.3,activeDot:{r:6}}),(0,d.jsx)(j.G,{type:"monotone",dataKey:"cpfBalance",name:"CPF Balance",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3,activeDot:{r:6}}),(0,d.jsx)(j.G,{type:"monotone",dataKey:"totalNetWorth",name:"Total Net Worth",stroke:"#0088FE",fill:"#0088FE",fillOpacity:.1,activeDot:{r:6}}),s&&(0,d.jsx)(v.e,{x:s.date,stroke:"green",strokeDasharray:"3 3",label:{value:"$100K Savings Goal",position:"top",fill:"green"}}),(0,d.jsx)(v.e,{y:1e5,stroke:"blue",strokeDasharray:"3 3",label:{value:"$100K",position:"right",fill:"blue"}})]})})}),(0,d.jsxs)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-green-800 mb-2",children:"Savings Milestone"}),(0,d.jsx)("p",{className:"text-sm",children:s?`You'll reach $100K in cash savings by ${s.date}`:"Keep working towards your $100K cash savings goal"})]})]})};var k=s(2291),S=s(8643);const F=e=>{let{chartData:t}=e;const s=t.slice(0,6);return(0,d.jsxs)(m,{title:"Monthly Cash Flow",titleColor:"bg-blue-600",children:[(0,d.jsx)("div",{className:"h-80",children:(0,d.jsx)(r.u,{width:"100%",height:"100%",children:(0,d.jsxs)(k.E,{data:s,margin:{top:10,right:10,left:0,bottom:20},children:[(0,d.jsx)(y.d,{strokeDasharray:"3 3"}),(0,d.jsx)(p.W,{dataKey:"date",angle:-45,textAnchor:"end",height:60,tick:{fontSize:12}}),(0,d.jsx)(g.h,{tickFormatter:e=>h(e),width:70}),(0,d.jsx)(c.m,{formatter:e=>h(e)}),(0,d.jsx)(f.s,{}),(0,d.jsx)(S.y,{dataKey:"takeHomePay",name:"Take-Home Pay",fill:"#8884d8"}),(0,d.jsx)(S.y,{dataKey:"expenses",name:"Living Expenses",fill:"#ff7300"}),(0,d.jsx)(S.y,{dataKey:"loanPayment",name:"Loan Payment",fill:"#ff0000"}),(0,d.jsx)(S.y,{dataKey:"monthlySavings",name:"Cash Savings",fill:"#82ca9d"}),(0,d.jsx)(S.y,{dataKey:"totalCpfContribution",name:"CPF Contributions",fill:"#9370DB"}),(0,d.jsx)(S.y,{dataKey:"bonusAmount",name:"Bonuses",fill:"#2ECC40"})]})})}),(0,d.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Cash Flow Breakdown"}),(0,d.jsx)("p",{className:"text-sm",children:"This chart shows your monthly cash flow for the next 6 months, including income, expenses, and savings."})]})]})},M=()=>{const[e,t]=(0,a.useState)((()=>localStorage.getItem("uiTheme")||"light")),[s,n]=(0,a.useState)((()=>{const e=localStorage.getItem("chartColors");return e?JSON.parse(e):{primary:"#0088FE",secondary:"#00C49F",tertiary:"#FFBB28",quaternary:"#FF8042",danger:"#FF0000",success:"#00C853",warning:"#FFB300"}})),[r,l]=(0,a.useState)((()=>"true"===localStorage.getItem("compactMode"))),[i,o]=(0,a.useState)((()=>localStorage.getItem("currencyFormat")||"USD")),[c,d]=(0,a.useState)((()=>localStorage.getItem("dateFormat")||"MMM yyyy")),m=(0,a.useCallback)((()=>{t((e=>{const t="light"===e?"dark":"light";return localStorage.setItem("uiTheme",t),t}))}),[]),h=(0,a.useCallback)(((e,t)=>{n((s=>{const a={...s,[e]:t};return localStorage.setItem("chartColors",JSON.stringify(a)),a}))}),[]),x=(0,a.useCallback)((()=>{const e={primary:"#0088FE",secondary:"#00C49F",tertiary:"#FFBB28",quaternary:"#FF8042",danger:"#FF0000",success:"#00C853",warning:"#FFB300"};n(e),localStorage.setItem("chartColors",JSON.stringify(e))}),[]),u=(0,a.useCallback)((()=>{l((e=>{const t=!e;return localStorage.setItem("compactMode",String(t)),t}))}),[]),y=(0,a.useCallback)((e=>{o(e),localStorage.setItem("currencyFormat",e)}),[]),p=(0,a.useCallback)((e=>{d(e),localStorage.setItem("dateFormat",e)}),[]);(0,a.useEffect)((()=>{document.documentElement.setAttribute("data-theme",e),"dark"===e?(document.documentElement.style.setProperty("--bg-primary","#121212"),document.documentElement.style.setProperty("--bg-secondary","#1e1e1e"),document.documentElement.style.setProperty("--text-primary","#ffffff"),document.documentElement.style.setProperty("--text-secondary","#b3b3b3")):(document.documentElement.style.setProperty("--bg-primary","#ffffff"),document.documentElement.style.setProperty("--bg-secondary","#f5f5f5"),document.documentElement.style.setProperty("--text-primary","#333333"),document.documentElement.style.setProperty("--text-secondary","#666666"))}),[e]);const g=(0,a.useCallback)((()=>[s.primary,s.secondary,s.tertiary,s.quaternary,"dark"===e?"#9370DB":"#8884d8","dark"===e?"#20B2AA":"#82ca9d","dark"===e?"#CD853F":"#ffc658","dark"===e?"#4682B4":"#8dd1e1"]),[e,s]),f=(0,a.useCallback)((e=>new Intl.NumberFormat("en-US",{style:"currency",currency:i,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)),[i]);return{theme:e,chartColors:s,compactMode:r,currencyFormat:i,dateFormat:c,toggleTheme:m,updateChartColor:h,resetChartColors:x,toggleCompactMode:u,updateCurrencyFormat:y,updateDateFormat:p,getChartColorPalette:g,formatCurrency:f,isDarkMode:"dark"===e}},P=e=>{let{chartData:t,cpfMilestone:s}=e;const{getChartColorPalette:a}=M(),n=a()[1];return(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,d.jsx)("div",{className:"bg-green-600 px-4 py-3",children:(0,d.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Projected CPF Growth"})}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("div",{className:"h-80",children:(0,d.jsx)(r.u,{width:"100%",height:"100%",children:(0,d.jsxs)(w.Q,{data:t,margin:{top:10,right:10,left:0,bottom:20},children:[(0,d.jsx)(y.d,{strokeDasharray:"3 3"}),(0,d.jsx)(p.W,{dataKey:"date",angle:-45,textAnchor:"end",height:60,tick:{fontSize:12,fill:"#374151"}}),(0,d.jsx)(g.h,{tickFormatter:e=>h(e),width:70,tick:{fill:"#374151"}}),(0,d.jsx)(c.m,{formatter:e=>h(e),contentStyle:{backgroundColor:"#ffffff",color:"#374151",border:"1px solid #e5e7eb"},labelStyle:{color:"#374151"}}),(0,d.jsx)(f.s,{wrapperStyle:{color:"#374151"}}),(0,d.jsx)(j.G,{type:"monotone",dataKey:"cpfBalance",name:"CPF Balance",stroke:n,fill:n,fillOpacity:.3,activeDot:{r:6}}),s&&(0,d.jsx)(v.e,{x:s.date,stroke:"green",strokeDasharray:"3 3",label:{value:`CPF ${h(s.amount)}`,position:"top",fill:"green"}})]})})}),(0,d.jsxs)("div",{className:"mt-4 bg-green-50 p-3 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-green-800 mb-2",children:"CPF Growth"}),(0,d.jsx)("p",{className:"text-sm text-green-600",children:s?`Your CPF savings are projected to reach ${h(s.amount)} by ${s.date}`:"Your CPF savings will continue to grow with regular contributions and interest"})]})]})]})},A={SINGAPOREAN:"singaporean",PR_FIRST_YEAR:"pr_first_year",PR_SECOND_YEAR:"pr_second_year",PR_THIRD_YEAR_ONWARDS:"pr_third_year_onwards"},R={"55_and_below":[.2,.17],"55_to_60":[.15,.15],"60_to_65":[.105,.095],"65_to_70":[.075,.075],above_70:[.05,.05]},D={"55_and_below":[.05,.15],"55_to_60":[.05,.15],"60_to_65":[.05,.085],"65_to_70":[.05,.065],above_70:[.05,.045]},I={"55_and_below":[.15,.15],"55_to_60":[.15,.15],"60_to_65":[.085,.085],"65_to_70":[.06,.065],above_70:[.05,.045]},B={"55_and_below":[.2,.17],"55_to_60":[.15,.15],"60_to_65":[.095,.095],"65_to_70":[.075,.075],above_70:[.05,.05]},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.SINGAPOREAN,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;try{const[r,l]=((e,t)=>{const s=(e=>e<=55?"55_and_below":e<=60?"55_to_60":e<=65?"60_to_65":e<=70?"65_to_70":"above_70")(t);switch(e){case A.SINGAPOREAN:return R[s];case A.PR_FIRST_YEAR:return D[s];case A.PR_SECOND_YEAR:return I[s];case A.PR_THIRD_YEAR_ONWARDS:return B[s];default:throw new Error(`Invalid employee type: ${e}`)}})(t,s),i=Math.min(e,6e3),o=Math.round(i*r*100)/100,c=Math.round(i*l*100)/100;let d=0,m=0;if(a>0){const e=n||12*i,t=Math.max(0,102e3-e),s=Math.min(a,t);d=Math.round(s*r*100)/100,m=Math.round(s*l*100)/100}const h=o+d,x=c+m;return{employeeContribution:h,employerContribution:x,totalContribution:h+x,takeHomePay:e+a-h,rates:{employeeRate:r,employerRate:l}}}catch(r){return console.error("Error calculating CPF contributions:",r),{employeeContribution:0,employerContribution:0,totalContribution:0,takeHomePay:e+a,rates:{employeeRate:0,employerRate:0}}}},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{salary:t=0,age:s=30,employeeType:n=A.SINGAPOREAN,bonusMonths:r=0,annualBonusAmount:l=0}=e,[i,o]=(0,a.useState)({salary:t,age:s,employeeType:n,bonusMonths:r,annualBonusAmount:l}),c=(0,a.useMemo)((()=>{const{salary:e,age:t,employeeType:s,bonusMonths:a,annualBonusAmount:n}=i,r=E(e,s,t);let l={employeeContribution:0,employerContribution:0,totalContribution:0};if(n>0){const a=12*Math.min(e,6e3);l=E(0,s,t,n,a)}else if(a>0){const n=e*a,r=12*Math.min(e,6e3);l=E(0,s,t,n,r)}const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.SINGAPOREAN,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const n=E(e,t,s);let r={employeeContribution:0,employerContribution:0,totalContribution:0};if(a>0){const n=e*a,l=12*Math.min(e,6e3);r=E(0,t,s,n,l)}const l=12*n.employeeContribution+r.employeeContribution,i=12*n.employerContribution+r.employerContribution;return{yearlyEmployeeContribution:l,yearlyEmployerContribution:i,yearlyTotalContribution:l+i,monthlyDetails:n,bonusDetails:r}}(e,s,t,a);return{monthly:r,bonus:l,yearly:o,takeHomePay:r.takeHomePay,totalMonthlyContribution:r.totalContribution,employeeContribution:r.employeeContribution,employerContribution:r.employerContribution,rates:r.rates}}),[i]),d=(0,a.useCallback)(((e,t)=>{"string"===typeof e&&e in i?o((s=>({...s,[e]:t}))):"object"===typeof e&&o((t=>({...t,...e})))}),[i]),m=(0,a.useCallback)((e=>{d("salary",Number(e))}),[d]),h=(0,a.useCallback)((e=>{Object.values(A).includes(e)?d("employeeType",e):console.error(`Invalid employee type: ${e}`)}),[d]),x=(0,a.useCallback)((()=>{o({salary:e.salary||0,age:e.age||30,employeeType:e.employeeType||A.SINGAPOREAN,bonusMonths:e.bonusMonths||0,annualBonusAmount:e.annualBonusAmount||0})}),[e]);return(0,a.useEffect)((()=>{if(e&&"object"===typeof e){const t={};let s=!1;"salary"in e&&e.salary!==i.salary&&(t.salary=e.salary,s=!0),"age"in e&&e.age!==i.age&&(t.age=e.age,s=!0),"employeeType"in e&&e.employeeType!==i.employeeType&&(t.employeeType=e.employeeType,s=!0),"bonusMonths"in e&&e.bonusMonths!==i.bonusMonths&&(t.bonusMonths=e.bonusMonths,s=!0),"annualBonusAmount"in e&&e.annualBonusAmount!==i.annualBonusAmount&&(t.annualBonusAmount=e.annualBonusAmount,s=!0),s&&o((e=>({...e,...t})))}}),[e]),{cpfInputs:i,cpfResults:c,employeeContribution:c.employeeContribution,employerContribution:c.employerContribution,totalContribution:c.totalMonthlyContribution,takeHomePay:c.takeHomePay,monthlyCpf:c.monthly,bonusCpf:c.bonus,yearlyCpf:c.yearly,employeeRate:c.rates.employeeRate,employerRate:c.rates.employerRate,updateCpfInput:d,updateSalary:m,updateEmployeeType:h,resetToDefaults:x,EMPLOYEE_TYPE:A}},L=e=>{let{initialData:t={},onChange:s}=e;const{cpfInputs:n,cpfResults:r,monthlyCpf:l,bonusCpf:i,yearlyCpf:o,employeeRate:c,employerRate:m,updateCpfInput:h,updateSalary:x,updateEmployeeType:u,EMPLOYEE_TYPE:y}=_(t),[p,g]=(0,a.useState)(!1),f=e=>new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",minimumFractionDigits:2}).format(e),j=e=>`${(100*e).toFixed(1)}%`;return(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"CPF Calculator"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Salary"}),(0,d.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,d.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"S$"})}),(0,d.jsx)("input",{type:"number",value:n.salary,onChange:e=>{const t=parseFloat(e.target.value)||0;x(t),s&&"function"===typeof s&&s({...n,salary:t})},className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900",placeholder:"0.00",min:"0",step:"50"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),(0,d.jsx)("input",{type:"number",value:n.age,onChange:e=>{const t=parseInt(e.target.value)||0;h("age",t),s&&"function"===typeof s&&s({...n,age:t})},className:"focus:ring-green-500 focus:border-green-500 block w-full px-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900",placeholder:"30",min:"0",max:"100"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Status"}),(0,d.jsxs)("select",{value:n.employeeType,onChange:e=>{const t=e.target.value;u(t),s&&"function"===typeof s&&s({...n,employeeType:t})},className:"focus:ring-green-500 focus:border-green-500 block w-full px-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900",children:[(0,d.jsx)("option",{value:y.SINGAPOREAN,children:"Singaporean Citizen"}),(0,d.jsx)("option",{value:y.PR_FIRST_YEAR,children:"PR (1st Year)"}),(0,d.jsx)("option",{value:y.PR_SECOND_YEAR,children:"PR (2nd Year)"}),(0,d.jsx)("option",{value:y.PR_THIRD_YEAR_ONWARDS,children:"PR (3rd Year+)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Bonus (Months)"}),(0,d.jsx)("input",{type:"number",value:n.bonusMonths,onChange:e=>{const t=parseFloat(e.target.value)||0;h("bonusMonths",t),s&&"function"===typeof s&&s({...n,bonusMonths:t})},className:"focus:ring-green-500 focus:border-green-500 block w-full px-3 py-2 sm:text-sm border-gray-300 rounded-md bg-white text-gray-900",placeholder:"0",min:"0",step:"0.5"})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Monthly CPF Contributions"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,d.jsx)("div",{className:"text-gray-600",children:"Your Contribution:"}),(0,d.jsxs)("div",{className:"text-gray-900 font-medium",children:[f(l.employeeContribution)," (",j(c),")"]}),(0,d.jsx)("div",{className:"text-gray-600",children:"Employer Contribution:"}),(0,d.jsxs)("div",{className:"text-gray-900 font-medium",children:[f(l.employerContribution)," (",j(m),")"]}),(0,d.jsx)("div",{className:"text-gray-600",children:"Total CPF Contribution:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(l.totalContribution)}),(0,d.jsx)("div",{className:"text-gray-600",children:"Take-Home Pay:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(l.takeHomePay)})]})]}),(0,d.jsxs)("button",{type:"button",onClick:()=>g(!p),className:"text-green-600 hover:text-green-800 text-sm font-medium flex items-center mb-4",children:[p?"Hide":"Show"," Advanced Details",(0,d.jsx)("svg",{className:"ml-1 h-4 w-4 transition-transform "+(p?"transform rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Yearly Estimates"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,d.jsx)("div",{className:"text-gray-600",children:"Your Yearly Contribution:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(o.yearlyEmployeeContribution)}),(0,d.jsx)("div",{className:"text-gray-600",children:"Employer Yearly Contribution:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(o.yearlyEmployerContribution)}),(0,d.jsx)("div",{className:"text-gray-600",children:"Total Yearly CPF:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(o.yearlyTotalContribution)})]})]}),n.bonusMonths>0&&(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Bonus CPF Contributions"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,d.jsx)("div",{className:"text-gray-600",children:"Bonus Amount:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(n.salary*n.bonusMonths)}),(0,d.jsx)("div",{className:"text-gray-600",children:"Your Contribution:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(i.employeeContribution)}),(0,d.jsx)("div",{className:"text-gray-600",children:"Employer Contribution:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(i.employerContribution)}),(0,d.jsx)("div",{className:"text-gray-600",children:"Total Bonus CPF:"}),(0,d.jsx)("div",{className:"text-gray-900 font-medium",children:f(i.totalContribution)})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"CPF Allocation Information"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Below age 55, CPF contributions are typically allocated to these accounts:"}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,d.jsxs)("div",{className:"bg-blue-100 p-2 rounded",children:[(0,d.jsx)("div",{className:"font-medium text-blue-800",children:"Ordinary Account"}),(0,d.jsx)("div",{className:"text-blue-600",children:"For housing, insurance, investment and education"})]}),(0,d.jsxs)("div",{className:"bg-green-100 p-2 rounded",children:[(0,d.jsx)("div",{className:"font-medium text-green-800",children:"Special Account"}),(0,d.jsx)("div",{className:"text-green-600",children:"For retirement and investment in retirement-related financial products"})]}),(0,d.jsxs)("div",{className:"bg-purple-100 p-2 rounded",children:[(0,d.jsx)("div",{className:"font-medium text-purple-800",children:"MediSave Account"}),(0,d.jsx)("div",{className:"text-purple-600",children:"For hospitalization expenses and approved medical insurance"})]})]})]})]}),(0,d.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Disclaimer:"})," This calculator provides estimates based on standard CPF contribution rates. For the most accurate information, please refer to the official CPF Board website."]})})]})},$=()=>{var e,t,s,r,l,i,o,c,m,h,x,u,y;const{financialData:p,updateFinancialData:g,calculateAge:f}=(0,n.xZ)(),{getChartColorPalette:j}=M(),[b,v]=(0,a.useState)({salary:(null===(e=p.income)||void 0===e?void 0:e.currentSalary)||0,age:f()||30,employeeType:A.SINGAPOREAN,bonusMonths:(null===(t=p.yearlyBonuses)||void 0===t?void 0:t.length)||0}),[N,w]=(0,a.useState)([]);(0,a.useEffect)((()=>{p&&(v((e=>{var t,s;return{...e,salary:(null===(t=p.income)||void 0===t?void 0:t.currentSalary)||e.salary,age:f()||e.age,bonusMonths:(null===(s=p.yearlyBonuses)||void 0===s?void 0:s.length)||e.bonusMonths}})),C())}),[p,f]);const C=()=>{var e,t,s,a,n;const r=(null===(e=p.personalInfo)||void 0===e?void 0:e.currentCpfBalance)||0,l=(null===(t=p.income)||void 0===t?void 0:t.currentSalary)*(null===(s=p.income)||void 0===s?void 0:s.cpfRate)/100+(null===(a=p.income)||void 0===a?void 0:a.currentSalary)*(null===(n=p.income)||void 0===n?void 0:n.employerCpfRate)/100,i=[];let o=r;const c=new Date,d=c.getFullYear(),m=c.getMonth();for(let h=0;h<=10;h++)for(let e=0;e<12;e++)if(!(0===h&&e<m)&&(o+=l,o*=1+.04/12,e%3===0)){const t=new Date(d+h,e,1).toLocaleDateString("en-US",{year:"numeric",month:"short"});i.push({date:t,cpfBalance:Math.round(o)})}w(i)},k=e=>new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",minimumFractionDigits:2}).format(e),S={date:new Date((new Date).getFullYear()+5,0,1).toLocaleDateString("en-US",{year:"numeric",month:"short"}),amount:1e5};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"CPF Calculator & Analysis"}),b.salary!==(null===(s=p.income)||void 0===s?void 0:s.currentSalary)&&(0,d.jsx)("button",{onClick:()=>{var e,t;g({income:{...p.income,currentSalary:b.salary,cpfRate:100*b.employeeRate||(null===(e=p.income)||void 0===e?void 0:e.cpfRate),employerCpfRate:100*b.employerRate||(null===(t=p.income)||void 0===t?void 0:t.employerCpfRate)}}),C()},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Save Changes"})]}),(0,d.jsx)("p",{className:"text-gray-600",children:"Calculate your CPF contributions based on your salary and personal details. Changes made here will update your financial projections."}),(0,d.jsx)(L,{initialData:b,onChange:e=>{v(e)}}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"CPF Impact Analysis"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,d.jsx)(P,{chartData:N,cpfMilestone:S})}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Retirement Readiness"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Evaluate how your current CPF savings and contribution rate align with your retirement goals."}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Current CPF Balance"}),(0,d.jsx)("span",{className:"font-medium text-gray-900",children:k((null===(r=p.personalInfo)||void 0===r?void 0:r.currentCpfBalance)||0)})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Yearly CPF Contribution"}),(0,d.jsx)("span",{className:"font-medium text-gray-900",children:k(12*((null===(l=p.income)||void 0===l?void 0:l.currentSalary)*(null===(i=p.income)||void 0===i?void 0:i.cpfRate)/100+(null===(o=p.income)||void 0===o?void 0:o.currentSalary)*(null===(c=p.income)||void 0===c?void 0:c.employerCpfRate)/100))})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Projected at Age 55"}),(0,d.jsx)("span",{className:"font-medium text-gray-900",children:k(((e,t,s)=>{const a=Math.max(0,55-s);let n=e;for(let r=0;r<a;r++)n+=t,n*=1.04;return Math.round(n)})((null===(m=p.personalInfo)||void 0===m?void 0:m.currentCpfBalance)||0,(null===(h=p.income)||void 0===h?void 0:h.currentSalary)*(null===(x=p.income)||void 0===x?void 0:x.cpfRate)/100+(null===(u=p.income)||void 0===u?void 0:u.currentSalary)*(null===(y=p.income)||void 0===y?void 0:y.employerCpfRate)/100*12,f()||30))})]})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"CPF Tips & Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"CPF Interest Rates"}),(0,d.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,d.jsx)("li",{children:"Ordinary Account: Up to 3.5% p.a."}),(0,d.jsx)("li",{children:"Special Account: Up to 5% p.a."}),(0,d.jsx)("li",{children:"MediSave Account: Up to 5% p.a."}),(0,d.jsx)("li",{children:"Retirement Account: Up to 5% p.a."})]})]}),(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Maximizing CPF"}),(0,d.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,d.jsx)("li",{children:"Consider voluntary contributions"}),(0,d.jsx)("li",{children:"Transfer OA to SA for higher interest"}),(0,d.jsx)("li",{children:"Use CPF for property wisely"}),(0,d.jsx)("li",{children:"Consider CPF investment options"})]})]}),(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Important Schemes"}),(0,d.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,d.jsx)("li",{children:"Retirement Sum Scheme"}),(0,d.jsx)("li",{children:"CPF LIFE"}),(0,d.jsx)("li",{children:"Home Protection Scheme"}),(0,d.jsx)("li",{children:"MediShield Life"})]})]})]})]})]})},T=e=>{let{cashFlowAnalysis:t,liquidityWarnings:s=[]}=e;if(!t)return(0,d.jsx)(m,{title:"Cash Flow Timing",children:(0,d.jsx)("div",{className:"text-center py-4",children:(0,d.jsx)("p",{className:"text-gray-500",children:"Loading cash flow analysis..."})})});if(!t.intraMonthAnalysis)return(0,d.jsx)(m,{title:"Cash Flow Timing",children:(0,d.jsxs)("div",{className:"text-center py-4",children:[(0,d.jsx)("p",{className:"text-gray-500 mb-2",children:"Detailed cash flow timing analysis not available"}),(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Check your projection settings or financial data configuration"})]})});const{dailyEvents:a,dailyBalances:n,minBalance:r,minBalanceDay:l,metrics:i}=t.intraMonthAnalysis,o=a.find((e=>"income"===e.type)),c=a.find((e=>e.description.toLowerCase().includes("rent")));return(0,d.jsx)(m,{title:"Cash Flow Timing Analysis",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Your Cash Flow Pattern"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-blue-700",children:"Salary Received:"}),(0,d.jsxs)("p",{className:"font-medium",children:["Day ",(null===o||void 0===o?void 0:o.day)||"N/A"," of each month"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-blue-700",children:"Rent Due:"}),(0,d.jsxs)("p",{className:"font-medium",children:["Day ",(null===c||void 0===c?void 0:c.day)||"N/A"," of each month"]})]})]})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-4 "+(s.length>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200"),children:[(0,d.jsx)("div",{className:"flex items-center mb-2",children:s.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L3.316 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,d.jsx)("h4",{className:"font-semibold text-red-800",children:"Cash Flow Risk Detected"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,d.jsx)("h4",{className:"font-semibold text-green-800",children:"Cash Flow Looks Healthy"})]})}),(0,d.jsxs)("div",{className:"text-sm space-y-1",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Lowest balance:"})," ",h(r)," on day ",l]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Recommended buffer:"})," ",h(i.recommendedBuffer)]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Monthly Cash Flow Timeline"}),(0,d.jsx)("div",{className:"space-y-2",children:a.slice(0,8).map(((e,t)=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:e.day}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-800",children:e.description}),(0,d.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:e.type})]})]}),(0,d.jsxs)("span",{className:"font-semibold "+(e.amount>0?"text-green-600":"text-red-600"),children:[e.amount>0?"+":"",h(e.amount)]})]},t)))})]}),t.recommendations&&t.recommendations.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Recommendations"}),(0,d.jsx)("div",{className:"space-y-3",children:t.recommendations.map(((e,t)=>(0,d.jsxs)("div",{className:"border rounded-lg p-3 "+("critical"===e.type?"bg-red-50 border-red-200":"warning"===e.type?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"),children:[(0,d.jsx)("h5",{className:"font-medium mb-1 "+("critical"===e.type?"text-red-800":"warning"===e.type?"text-yellow-800":"text-blue-800"),children:e.title}),(0,d.jsx)("p",{className:"text-sm mb-2 "+("critical"===e.type?"text-red-700":"warning"===e.type?"text-yellow-700":"text-blue-700"),children:e.description}),e.actionItems&&(0,d.jsx)("ul",{className:"text-xs space-y-1 "+("critical"===e.type?"text-red-600":"warning"===e.type?"text-yellow-600":"text-blue-600"),children:e.actionItems.map(((e,t)=>(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"mr-1",children:"\u2022"}),(0,d.jsx)("span",{children:e})]},t)))})]},t)))})]})]})})};var Y=s(2617);const O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown";const[t,s]=(0,a.useState)(null),[n,r]=(0,a.useState)(!1),l=(0,a.useCallback)((function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s(t),r(!0),n&&(0,Y.vV)(t,e,a)}),[e]),i=(0,a.useCallback)((()=>{s(null),r(!1)}),[]),o=(0,a.useCallback)((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return e(...s)}catch(t){return void l(t,a)}}),[l]),c=(0,a.useCallback)((e=>async function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];try{return await e(...a)}catch(t){return void l(t,{args:a})}}),[l]);return{error:t,hasError:n,handleError:l,clearError:i,tryCatch:o,withErrorHandling:c}},G=function(e){const[t,s]=(0,a.useState)(null),[n,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),{error:o,hasError:c,handleError:d,clearError:m}=O("useIntraMonthCashFlow"),h=(0,a.useCallback)(((e,t,s,a)=>{const n=(0,Y.y3)(t.salaryDay,25),r=(0,Y.y3)(a.minimumCashBuffer,1e3),l=[],i=n,o=e.takeHomePay+(e.bonusAmount||0);l.push({day:i,type:"income",description:"Salary Received",amount:o,category:"salary"}),s.forEach((e=>{const t=(0,Y.y3)(e.dueDay,15);l.push({day:t,type:"expense",description:e.name,amount:-e.amount,category:"expense"})})),e.loanPayment>0&&l.push({day:1,type:"expense",description:"Loan Payment",amount:-e.loanPayment,category:"loan"}),l.sort(((e,t)=>e.day-t.day));let c=e.cashSavings,d=c,m=0,h=[];const x=[];return l.forEach((e=>{c+=e.amount,x.push({day:e.day,balance:c,event:e,change:e.amount}),c<d&&(d=c,m=e.day),c<r&&h.push({day:e.day,balance:c,shortfall:r-c,severity:c<0?"critical":"warning"})})),{dailyEvents:l,dailyBalances:x,minBalance:d,minBalanceDay:m,liquidityIssues:h,metrics:{salaryToFirstExpenseGap:n>1?1-n+30:1-n,cashFlowStress:d<r,recommendedBuffer:Math.max(r,Math.abs(d)+500)}}}),[]),x=(0,a.useCallback)(((e,t,s)=>{if(!e)return[];const a=[],n=(0,Y.y3)(t.salaryDay,25);if(e.liquidityIssues.length>0){const t=e.liquidityIssues.filter((e=>"critical"===e.severity));t.length>0?a.push({type:"critical",title:"Cash Flow Risk Detected",description:`You may run out of cash on day ${t[0].day} of the month. Consider increasing your cash buffer.`,actionItems:[`Increase emergency fund by $${Math.ceil(Math.abs(e.minBalance)+500)}`,"Consider moving some expenses to after salary day","Set up overdraft protection"]}):a.push({type:"warning",title:"Low Cash Buffer Warning",description:`Your cash drops below the recommended buffer on day ${e.liquidityIssues[0].day}.`,actionItems:[`Consider increasing minimum cash buffer to $${e.metrics.recommendedBuffer}`,"Monitor cash flow more closely"]})}return n>20&&a.push({type:"optimization",title:"Optimize Expense Timing",description:`Since you receive salary on day ${n}, you have good cash flow timing.`,actionItems:["Consider paying rent after salary day to reduce cash requirements","Schedule variable expenses after salary day",`Your current setup works well with salary received on day ${n}`]}),a}),[]),u=(0,a.useCallback)((()=>{if(!e||!e.income||!e.expenses)return{currentMonth:null,intraMonthAnalysis:null,recommendations:[]};try{const{personalInfo:t,income:s,expenses:a,projectionSettings:n}=e,r=new Date,l=r.getMonth()+1,i=r.getFullYear(),o=(0,Y.y3)(s.currentSalary,0),c=o-o*((s.cpfRate||20)/100),d=Array.isArray(a)?a.reduce(((e,t)=>e+(0,Y.y3)(t.amount,0)),0):0,m=(0,Y.y3)(t.monthlyRepayment,0),u={month:l,year:i,takeHomePay:c,totalExpenses:d,loanPayment:m,monthlySavings:c-d-m,cashSavings:(0,Y.y3)(t.currentSavings,0),bonusAmount:0};let y=null;return!1!==(null===n||void 0===n?void 0:n.enableIntraMonthAnalysis)&&(y=h(u,s,a,n||{})),{currentMonth:u,intraMonthAnalysis:y,recommendations:x(y,s,n)}}catch(o){return console.error("Error in generateEnhancedProjection:",o),d(o),{currentMonth:null,intraMonthAnalysis:null,recommendations:[]}}}),[e,h,x,d]);return(0,a.useEffect)((()=>{var e;i(!0),m();const t=u();s(t),null!==t&&void 0!==t&&null!==(e=t.intraMonthAnalysis)&&void 0!==e&&e.liquidityIssues?r(t.intraMonthAnalysis.liquidityIssues):r([]),i(!1)}),[e,u,m]),{cashFlowAnalysis:t,liquidityWarnings:n,isAnalyzing:l,error:o,hasError:c,clearError:m,generateEnhancedProjection:u,getCurrentMonthRisk:()=>{if(null===t||void 0===t||!t.intraMonthAnalysis)return null;const{minBalance:e,liquidityIssues:s}=t.intraMonthAnalysis;return{riskLevel:s.length>0?"high":e<500?"medium":"low",minBalance:e,daysAtRisk:s.length,recommendedBuffer:t.intraMonthAnalysis.metrics.recommendedBuffer}}}},K=()=>{var e,t;const{financialData:s,updateFinancialData:r,updateProjectionSettings:l,totalExpenses:i,calculateAge:o,getMonthName:c,formatDate:u}=(0,a.useContext)(n.rc),[y,p]=(0,a.useState)("summary"),{cashFlowAnalysis:g,liquidityWarnings:f,getCurrentMonthRisk:j}=G(s),[b,v]=(0,a.useState)((null===(e=s.projectionSettings)||void 0===e?void 0:e.rowsToDisplay)||36),{projection:w,loanPaidOffMonth:k,savingsGoalReachedMonth:S}=(()=>{const e=[],{personalInfo:t,income:a,expenses:n,yearlyBonuses:r}=s;let l=t.currentSavings,o=t.remainingLoan,d=t.currentCpfBalance||0;const m=t.birthday.year,h=t.birthday.month;let x=a.currentSalary;const u=a.cpfRate/100,y=a.employerCpfRate/100,p=i,g=t.monthlyRepayment,f=t.interestRate/100/12,j=new Date;let b=j.getMonth()+1,v=j.getFullYear();const N=a.salaryAdjustments||[];!a.salaryAdjustments&&a.futureSalary&&N.push({month:a.salaryAdjustmentMonth,year:a.salaryAdjustmentYear,newSalary:a.futureSalary});const w=[...N].sort(((e,t)=>e.year!==t.year?e.year-t.year:e.month-t.month)),C=r?[...r].sort(((e,t)=>e.year!==t.year?e.year-t.year:e.month-t.month)):[];let k=null,S=null;for(let s=0;s<60;s++){const t=(b+s-1)%12+1,n=v+Math.floor((b+s-1)/12),r=`${c(t).substring(0,3)} ${n}`;let i=n-m,N=t-h;N<0&&(i--,N+=12);const F=`${i}y ${N}m`;for(const e of w)if(t===e.month&&n===e.year){x=e.newSalary;break}let M=0,P="";for(const e of C)t===e.month&&n===e.year&&(M+=e.amount,P=P?`${P}, ${e.description}`:e.description);let A=g,R=o*f,D=Math.min(o,g-R);o<=0?(R=0,D=0,A=0,o=0):o=Math.max(0,o-D),0===o&&null===k&&(k=s);const I=0===s,B=a.salaryDay||25,E=I&&j.getDate()>B,_=I&&E?0:x,L=_-_*u,$=_*u,T=_*y,Y=L-p-A+M;d+=$+T,I&&E||(l+=Y);const O=l+d-o;l>=1e5&&null===S&&(S=s),e.push({month:s+1,date:r,age:F,monthlySalary:_,monthlyIncome:_+M,takeHomePay:L,monthlyExpenses:p,expenses:p,loanPayment:A,loanRemaining:o,monthlySavings:Y,bonusAmount:M,bonusDescription:P,cpfContribution:$,employerCpfContribution:T,totalCpfContribution:$+T,cpfBalance:d,cashSavings:l,totalNetWorth:O,milestone:s===k?"Loan Paid Off":s===S?"100K Cash Savings Goal":M>0?P:null})}return{projection:e,loanPaidOffMonth:null!==k?e[k]:null,savingsGoalReachedMonth:null!==S?e[S]:null}})(),M=[...s.expenses.map((e=>({name:e.name,value:e.amount}))),{name:"Loan Payment",value:s.personalInfo.monthlyRepayment}],P=k?`${Math.floor(k.month/12)} years ${k.month%12} months`:"Not within projection",A=S?`${Math.floor(S.month/12)} years ${S.month%12} months`:"Not within projection",R=s.income.currentSalary,D=R*(s.income.cpfRate/100),I=(s.income.employerCpfRate,R-D),B=i,E=s.personalInfo.monthlyRepayment,_=I-B-E,L=_/I,Y=(new Date).getFullYear(),O=(s.yearlyBonuses&&s.yearlyBonuses.filter((e=>e.year===Y)).reduce(((e,t)=>e+t.amount),0),w.filter(((e,t)=>t%3===0))),K=(s.personalInfo.currentSavings,s.personalInfo.currentCpfBalance,[]),W=(new Date).getMonth()+1,H=[{month:W,year:Y},{month:W+1>12?W+1-12:W+1,year:W+1>12?Y+1:Y},{month:W+2>12?W+2-12:W+2,year:W+2>12?Y+1:Y}];s.income.salaryAdjustments&&s.income.salaryAdjustments.forEach((e=>{H.some((t=>t.month===e.month&&t.year===e.year))&&K.push({type:"Salary Adjustment",date:`${c(e.month)} ${e.year}`,amount:e.newSalary,description:`Salary changes to ${h(e.newSalary)}`})})),s.yearlyBonuses&&s.yearlyBonuses.forEach((e=>{H.some((t=>t.month===e.month&&t.year===e.year))&&K.push({type:"Bonus",date:`${c(e.month)} ${e.year}`,amount:e.amount,description:e.description})}));const z=e=>{let{value:t,threshold1:s,threshold2:a,reverse:n=!1}=e,r="bg-green-500";return n?(t>s&&(r="bg-yellow-500"),t>a&&(r="bg-red-500")):(t<s&&(r="bg-yellow-500"),t<a&&(r="bg-red-500")),(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("div",{className:`w-3 h-3 rounded-full ${r} mr-2`})})};return(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg max-w-6xl mx-auto",children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-500 text-white p-4 rounded-lg mb-6 shadow-md",children:(0,d.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-center",children:"PERSONAL FINANCIAL DASHBOARD"})}),(0,d.jsxs)("div",{className:"flex overflow-x-auto mb-6 bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,d.jsx)("button",{className:"py-3 px-4 font-medium whitespace-nowrap flex-shrink-0 transition-colors "+("summary"===y?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>p("summary"),children:"Summary"}),(0,d.jsx)("button",{className:"py-3 px-4 font-medium whitespace-nowrap flex-shrink-0 transition-colors "+("milestones"===y?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>p("milestones"),children:"Milestones"}),(0,d.jsx)("button",{className:"py-3 px-4 font-medium whitespace-nowrap flex-shrink-0 transition-colors "+("charts"===y?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>p("charts"),children:"Charts"}),(0,d.jsx)("button",{className:"py-3 px-4 font-medium whitespace-nowrap flex-shrink-0 transition-colors "+("projection"===y?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>p("projection"),children:"Projection"}),(0,d.jsx)("button",{className:"py-3 px-4 font-medium whitespace-nowrap flex-shrink-0 transition-colors "+("cpf"===y?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>p("cpf"),children:"CPF"})]}),"summary"===y&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-green-500",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Liquid Cash"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-700",children:h(s.personalInfo.currentSavings)}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Immediately available"})]}),(0,d.jsx)(z,{value:s.personalInfo.currentSavings,threshold1:5e3,threshold2:2e3})]})}),(0,d.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-purple-500",children:(0,d.jsx)("div",{className:"flex justify-between items-start",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"CPF Balance"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:h(s.personalInfo.currentCpfBalance||0)}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Locked until retirement"})]})})}),(0,d.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-red-500",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Remaining Loan"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-red-700",children:h(s.personalInfo.remainingLoan)}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Not within projection"!==P?`Paid off in ${P}`:"Long-term loan"})]}),(0,d.jsx)(z,{value:s.personalInfo.remainingLoan,threshold1:2e4,threshold2:4e4,reverse:!0})]})}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-500",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Total Net Worth"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:h(s.personalInfo.currentSavings+(s.personalInfo.currentCpfBalance||0)-s.personalInfo.remainingLoan)}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Assets minus liabilities"})]})]}),(0,d.jsxs)(m,{title:"Monthly Cash Flow",titleColor:"bg-green-600",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Monthly Income"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:h(I)}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Take-home pay after CPF"})]}),(0,d.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-red-800 mb-2",children:"Monthly Expenses"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-red-700",children:h(B+E)}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Including loan payment"})]}),(0,d.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-medium text-green-800 mb-2",children:"Monthly Savings"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-700",children:h(_)}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[(q=L,new Intl.NumberFormat("en-SG",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(q))," of take-home pay"]})]})]}),(0,d.jsxs)("div",{className:"mt-2 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,d.jsx)("span",{className:"text-blue-600 font-medium",children:"Income"}),(0,d.jsx)("span",{className:"text-gray-600",children:h(I)})]}),(0,d.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded-full overflow-hidden",children:(0,d.jsxs)("div",{className:"flex h-full",children:[(0,d.jsx)("div",{className:"bg-red-500 h-full",style:{width:B/I*100+"%"},title:"Living Expenses"}),(0,d.jsx)("div",{className:"bg-orange-500 h-full",style:{width:E/I*100+"%"},title:"Loan Payment"}),(0,d.jsx)("div",{className:"bg-green-500 h-full",style:{width:_/I*100+"%"},title:"Savings"})]})}),(0,d.jsxs)("div",{className:"flex text-xs mt-1 justify-between",children:[(0,d.jsxs)("span",{className:"text-red-600",children:["Expenses: ",h(B)]}),(0,d.jsxs)("span",{className:"text-orange-600",children:["Loan: ",h(E)]}),(0,d.jsxs)("span",{className:"text-green-600",children:["Savings: ",h(_)]})]})]})]}),(0,d.jsx)(x,{expenseData:M,totalExpenses:i,loanPayment:E}),(0,d.jsx)(T,{cashFlowAnalysis:g,liquidityWarnings:f})]}),"charts"===y&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,d.jsx)(N,{chartData:O,loanPaidOffMonth:k,savingsGoalReachedMonth:S}),(0,d.jsx)(C,{chartData:O,savingsGoalReachedMonth:S}),(0,d.jsx)(F,{chartData:O})]})}),"milestones"===y&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(m,{title:"Key Financial Milestones",children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-gray-50",children:[(0,d.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Milestone"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time to Achieve"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Savings at Milestone"})]})}),(0,d.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:"Student Loan Paid Off"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:k?k.date:"Not within projection"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:P}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:k?k.age:"-"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:k?h(k.cashSavings):"-"})]}),(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:"$100,000 Savings Achieved"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:S?S.date:"Not within projection"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:A}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:S?S.age:"-"}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:S?h(S.cashSavings):"-"})]}),s.yearlyBonuses&&s.yearlyBonuses.map(((e,t)=>{const s=w.find((t=>t.date.includes(`${c(e.month).substring(0,3)} ${e.year}`)));return s?(0,d.jsxs)("tr",{className:"hover:bg-gray-50 bg-green-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:e.description}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.date}),(0,d.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-700",children:[Math.floor(s.month/12)," ","years"," ",s.month%12," ","months"]}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.age}),(0,d.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:h(e.amount)})]},`bonus-${t}`):null}))]})]})})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)(m,{title:"Progress Towards Loan Payment",children:[k&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Original Loan:"," ",(0,d.jsx)("span",{className:"font-medium",children:h(s.personalInfo.remainingLoan)})]}),(0,d.jsxs)("span",{className:"text-gray-600",children:["Remaining:"," ",(0,d.jsx)("span",{className:"font-medium text-green-600",children:h(s.personalInfo.remainingLoan>0?w[0].loanRemaining:0)})]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,d.jsx)("div",{className:"bg-green-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Math.max(0,Math.min(100,(s.personalInfo.remainingLoan-w[0].loanRemaining)/s.personalInfo.remainingLoan*100))}%`}})}),(0,d.jsx)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 mt-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-green-800 font-medium",children:["Congratulations! You'll be debt-free by"," ",(0,d.jsx)("span",{className:"font-bold",children:k.date})," ","at age"," ",k.age,"."]}),(0,d.jsxs)("p",{className:"mt-1 text-green-700",children:["Total repayment period:"," ",P," from"," ",c((new Date).getMonth()+1)," ",(new Date).getFullYear()]})]})]})})]}),!k&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Original Loan:"," ",(0,d.jsx)("span",{className:"font-medium",children:h(s.personalInfo.remainingLoan)})]}),(0,d.jsxs)("span",{className:"text-gray-600",children:["Remaining:"," ",(0,d.jsx)("span",{className:"font-medium text-red-600",children:h(w[w.length-1].loanRemaining)})]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,d.jsx)("div",{className:"bg-blue-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Math.max(0,Math.min(100,100*(1-w[w.length-1].loanRemaining/s.personalInfo.remainingLoan)))}%`}})}),(0,d.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 mt-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-blue-800 font-medium",children:"You're making progress, but your loan won't be fully paid within the 5-year projection period."}),(0,d.jsx)("p",{className:"mt-1 text-blue-700",children:"Consider increasing your monthly payments to accelerate debt payoff."})]})]})})]})]}),(0,d.jsxs)(m,{title:"Progress Towards $100K Cash Savings",children:[S&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Starting Cash:"," ",(0,d.jsx)("span",{className:"font-medium",children:h(s.personalInfo.currentSavings)})]}),(0,d.jsxs)("span",{className:"text-gray-600",children:["Goal:"," ",(0,d.jsx)("span",{className:"font-medium text-green-600",children:h(1e5)})]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,d.jsx)("div",{className:"bg-green-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Math.min(100,s.personalInfo.currentSavings/1e5*100)}%`}})}),(0,d.jsx)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 mt-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-green-800 font-medium",children:["Congratulations! You'll reach $100,000 in cash savings by"," ",(0,d.jsx)("span",{className:"font-bold",children:S.date})," ","at age"," ",S.age,"."]}),(0,d.jsxs)("p",{className:"mt-1 text-green-700",children:["Total savings period:"," ",A," from"," ",c((new Date).getMonth()+1)," ",(new Date).getFullYear()]})]})]})})]}),!S&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Starting Cash:"," ",(0,d.jsx)("span",{className:"font-medium",children:h(s.personalInfo.currentSavings)})]}),(0,d.jsxs)("span",{className:"text-gray-600",children:["Current:"," ",(0,d.jsx)("span",{className:"font-medium text-blue-600",children:h(w[w.length-1].cashSavings)})]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,d.jsx)("div",{className:"bg-blue-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Math.max(0,Math.min(100,s.personalInfo.currentSavings/1e5*100))}%`}})}),(0,d.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 mt-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-blue-800 font-medium",children:"You're making progress, but you won't reach the $100,000 cash savings goal within the 5-year projection period."}),(0,d.jsx)("p",{className:"mt-1 text-blue-700",children:"Consider increasing your savings rate after paying off your loan to accelerate progress."})]})]})})]})]})]})]}),"projection"===y&&(0,d.jsxs)(m,{title:"Monthly Financial Projection",children:[(0,d.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,d.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,d.jsxs)("div",{className:"mr-4 mb-2 sm:mb-0",children:[(0,d.jsx)("label",{htmlFor:"rowsToDisplay",className:"block text-sm font-medium text-blue-700 mb-1",children:"Months to Display:"}),(0,d.jsxs)("select",{id:"rowsToDisplay",value:b,onChange:e=>{const t=parseInt(e.target.value);v(t),l({rowsToDisplay:t})},className:"w-32 px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[(0,d.jsx)("option",{value:12,children:"12 months (1 year)"}),(0,d.jsx)("option",{value:24,children:"24 months (2 years)"}),(0,d.jsx)("option",{value:36,children:"36 months (3 years)"}),(0,d.jsx)("option",{value:48,children:"48 months (4 years)"}),(0,d.jsx)("option",{value:60,children:"60 months (5 years)"})]})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"hidden sm:block text-blue-700 mr-2",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,d.jsxs)("p",{className:"text-sm text-blue-700",children:["Showing ",b," months of financial projection data"]})]})]})}),(0,d.jsx)("div",{className:"overflow-x-auto -mx-4",children:(0,d.jsx)("div",{className:"inline-block min-w-full align-middle p-4",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-gray-50",children:[(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Month"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Date"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Take-Home"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Expenses"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Loan Payment"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Loan Remaining"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Bonus"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Monthly Savings"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Cash Savings"}),(0,d.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"CPF Balance"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.slice(0,b).map(((e,t)=>(0,d.jsxs)("tr",{className:(e.milestone?"bg-green-50":t%2===0?"bg-gray-50":"")+" hover:bg-blue-50 transition-colors",children:[(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap",children:e.month}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap",children:e.date}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-green-600",children:h(e.takeHomePay)}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-orange-600",children:h(e.expenses)}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-red-600",children:h(e.loanPayment)}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-red-600",children:h(e.loanRemaining)}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-purple-600",children:e.bonusAmount>0?h(e.bonusAmount):"-"}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-green-600",children:h(e.monthlySavings)}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-green-600",children:h(e.cashSavings)}),(0,d.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 whitespace-nowrap font-medium text-purple-600",children:h(e.cpfBalance)})]},t)))})]})})}),(k||S||(null===(t=s.yearlyBonuses)||void 0===t?void 0:t.length)>0)&&(0,d.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,d.jsx)("h3",{className:"font-medium text-blue-700 mb-2",children:"Key Milestones:"}),(0,d.jsxs)("ul",{className:"space-y-2",children:[k&&(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Loan Paid Off:"})," ",k.date," (Month"," ",k.month,")"]})]}),S&&(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:"font-medium",children:"$100K Savings Reached:"})," ",S.date," ","(Month"," ",S.month,")"]})]}),s.yearlyBonuses&&s.yearlyBonuses.map(((e,t)=>{var s;const a=null===(s=w.find((t=>t.date.includes(`${c(e.month).substring(0,3)} ${e.year}`))))||void 0===s?void 0:s.date;return a?(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"h-5 w-5 text-purple-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("span",{className:"font-medium",children:[e.description,":"]})," ",a," -"," ",h(e.amount)]})]},`bonus-milestone-${t}`):null}))]})]})]}),"cpf"===y&&(0,d.jsx)($,{})]});var q}}}]);
//# sourceMappingURL=653.43cd6959.chunk.js.map