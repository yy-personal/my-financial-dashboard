"use strict";(self.webpackChunkmy_financial_dashboard=self.webpackChunkmy_financial_dashboard||[]).push([[727],{3727:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var r=s(5043),a=s(4668),n=s(108),i=s(877),l=s(7734),o=s(2185),d=s(6026),c=s(6150),m=s(1327),x=s(3243),h=s(3839),u=s(3014),g=s(168),y=s(3831),p=(0,u.gu)({chartName:"LineChart",GraphicalChild:g.N,axisComponents:[{axisType:"xAxis",AxisComp:o.W},{axisType:"yAxis",AxisComp:d.h}],formatAxisMap:y.pr}),j=s(579);const f=()=>{var e;const{financialData:t,calculateAge:s}=(0,r.useContext)(a.rc),[u,y]=(0,r.useState)({retirementAge:65,lifeExpectancy:90,desiredMonthlyIncome:6e3,inflationRate:2.5,investmentReturnPreRetirement:7,investmentReturnPostRetirement:4,cpfLifePayout:1500,additionalIncomeSource:0,currentSavings:t.personalInfo.currentSavings||0,currentAge:s(),currentCpfBalance:t.personalInfo.currentCpfBalance||0,monthlySavingsRate:.2*t.income.currentSalary||1e3}),f=e=>new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),v=(e,t)=>{y({...u,[e]:parseFloat(t)||0})},b=(()=>{const{retirementAge:e,lifeExpectancy:t,desiredMonthlyIncome:s,inflationRate:r,investmentReturnPreRetirement:a,investmentReturnPostRetirement:n,cpfLifePayout:i,additionalIncomeSource:l,currentSavings:o,currentAge:d,currentCpfBalance:c,monthlySavingsRate:m}=u,x=e-d,h=t-e,g=Math.pow(1+r/100,x),y=i*g,p=l*g,j=12*(s*g)-12*(y+p),f=n/100,v=Math.max(0,j/f),b=[];let N=o,k=c;const R=12*m,w=a/100;for(let u=0;u<=x+h;u++){const t=(new Date).getFullYear()+u,s=d+u,a=s>=e;if(a){const t=s-e,a=j*Math.pow(1+r/100,t);N=Math.max(0,N*(1+n/100)-a)}else N=N*(1+w)+R,k*=1.04;const i=N+(a?0:k),l=a?N/v:i/v;b.push({year:t,age:s,savingsBalance:Math.round(N),cpfBalance:Math.round(a?0:k),totalNetWorth:Math.round(i),targetNeeded:Math.round(v),savingsRatio:l,isRetired:a,annualIncome:a?Math.round(j+12*(y+p)):0,monthlyIncome:a?Math.round((j+12*(y+p))/12):0})}return b})(),N=(e=>{const t=e.findIndex((e=>e.age===u.retirementAge));if(-1===t)return{status:"unknown",message:"Could not determine retirement readiness.",shortfall:0,retirementYear:null};const s=e[t],r=s.targetNeeded,a=s.totalNetWorth,n=r-a,i=a/r;let l,o;return i>=1?(l="excellent",o=`You're on track for retirement! By age ${u.retirementAge}, you're projected to have ${f(a)}, exceeding your goal by ${f(a-r)}.`):i>=.8?(l="good",o=`You're close to your retirement goal. By age ${u.retirementAge}, you're projected to have ${f(a)}, which is ${Math.round(100*i)}% of your target. Consider increasing your savings slightly.`):i>=.5?(l="caution",o=`You're making progress, but may fall short. By age ${u.retirementAge}, you're projected to have ${f(a)}, which is ${Math.round(100*i)}% of your target. Consider increasing your monthly savings.`):(l="warning",o=`You're at risk of falling short of your retirement goal. By age ${u.retirementAge}, you're projected to have ${f(a)}, which is only ${Math.round(100*i)}% of your target. You may need to significantly increase savings or adjust your retirement plan.`),{status:l,message:o,shortfall:Math.max(0,n),retirementYear:s.year,savingsRatio:i,projectedSavings:a}})(b),k=(e=>{const{retirementAge:t,currentAge:s}=u,r=t-s,a=e.findIndex((e=>e.age===t));if(-1===a)return 0;const n=e[a],i=Math.max(0,n.targetNeeded-n.totalNetWorth);if(i<=0)return 0;const l=u.investmentReturnPreRetirement/100,o=Math.pow(1+l,1/12)-1,d=12*r,c=i*o/(Math.pow(1+o,d)-1);return Math.round(c)})(b),R=b.filter(((e,t)=>t%5===0||t===b.length-1));return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,j.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Retirement Planner"}),(0,j.jsxs)("div",{className:`p-4 rounded-lg border mb-6 ${(e=>{switch(e){case"excellent":return"bg-green-100 text-green-800 border-green-200";case"good":return"bg-blue-100 text-blue-800 border-blue-200";case"caution":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"warning":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(N.status)}`,children:[(0,j.jsx)("h3",{className:"font-medium text-lg mb-2",children:"Retirement Readiness Summary"}),(0,j.jsx)("p",{className:"mb-1",children:N.message}),N.shortfall>0&&(0,j.jsxs)("p",{className:"text-sm mt-2",children:["To close the projected shortfall of ",f(N.shortfall),", consider saving an additional ",f(k)," per month until retirement."]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-medium text-blue-700 border-b pb-2 mb-4",children:"Retirement Settings"}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:["Current Age: ",u.currentAge]}),(0,j.jsx)("p",{className:"text-xs text-gray-500",children:"Auto-calculated from your birthday"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Retirement Age"}),(0,j.jsx)("input",{type:"range",min:"55",max:"75",step:"1",value:u.retirementAge,onChange:e=>v("retirementAge",e.target.value),className:"w-full"}),(0,j.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,j.jsx)("span",{children:"55"}),(0,j.jsx)("span",{className:"font-medium",children:u.retirementAge}),(0,j.jsx)("span",{children:"75"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Life Expectancy"}),(0,j.jsx)("input",{type:"range",min:"75",max:"105",step:"1",value:u.lifeExpectancy,onChange:e=>v("lifeExpectancy",e.target.value),className:"w-full"}),(0,j.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,j.jsx)("span",{children:"75"}),(0,j.jsx)("span",{className:"font-medium",children:u.lifeExpectancy}),(0,j.jsx)("span",{children:"105"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Monthly Retirement Income Needed"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,j.jsx)("input",{type:"number",value:u.desiredMonthlyIncome,onChange:e=>v("desiredMonthlyIncome",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Today's dollars (will be adjusted for inflation)"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Current Monthly Savings Rate"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,j.jsx)("input",{type:"number",value:u.monthlySavingsRate,onChange:e=>v("monthlySavingsRate",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Expected CPF LIFE Monthly Payout"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,j.jsx)("input",{type:"number",value:u.cpfLifePayout,onChange:e=>v("cpfLifePayout",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Estimated monthly payout from CPF LIFE"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Additional Monthly Income Source"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,j.jsx)("input",{type:"number",value:u.additionalIncomeSource,onChange:e=>v("additionalIncomeSource",e.target.value),className:"w-full pl-7 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Rental income, part-time work, etc."})]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-medium text-blue-700 border-b pb-2 mb-4",children:"Advanced Settings"}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Inflation Rate (%)"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("input",{type:"number",value:u.inflationRate,onChange:e=>v("inflationRate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",step:"0.1"}),(0,j.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"%"})})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Long-term inflation rate (2-3% is typical)"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Pre-Retirement Investment Return (%)"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("input",{type:"number",value:u.investmentReturnPreRetirement,onChange:e=>v("investmentReturnPreRetirement",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",step:"0.1"}),(0,j.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"%"})})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Expected annual return before retirement"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Post-Retirement Investment Return (%)"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("input",{type:"number",value:u.investmentReturnPostRetirement,onChange:e=>v("investmentReturnPostRetirement",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",step:"0.1"}),(0,j.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,j.jsx)("span",{className:"text-gray-500",children:"%"})})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Expected annual return during retirement (typically more conservative)"})]}),(0,j.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,j.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Retirement Calculator Metrics"}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsx)("div",{className:"text-sm text-gray-700",children:"Years to Retirement:"}),(0,j.jsxs)("div",{className:"text-sm text-gray-700 font-medium",children:[u.retirementAge-u.currentAge," years"]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsx)("div",{className:"text-sm text-gray-700",children:"Retirement Duration:"}),(0,j.jsxs)("div",{className:"text-sm text-gray-700 font-medium",children:[u.lifeExpectancy-u.retirementAge," years"]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsx)("div",{className:"text-sm text-gray-700",children:"Savings at Retirement:"}),(0,j.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:f(N.projectedSavings)})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsx)("div",{className:"text-sm text-gray-700",children:"Target Nest Egg Needed:"}),(0,j.jsx)("div",{className:"text-sm font-medium "+(N.shortfall>0?"text-red-600":"text-green-600"),children:f(N.projectedSavings+N.shortfall)})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsx)("div",{className:"text-sm text-gray-700",children:"Projected Shortfall:"}),(0,j.jsx)("div",{className:"text-sm font-medium "+(N.shortfall>0?"text-red-600":"text-green-600"),children:N.shortfall>0?f(N.shortfall):"No Shortfall"})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsx)("div",{className:"text-sm text-gray-700",children:"Monthly Income in Retirement:"}),(0,j.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:f((null===(e=b.find((e=>e.age===u.retirementAge)))||void 0===e?void 0:e.monthlyIncome)||0)})]})]})]})]})]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,j.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Retirement Savings Projection"}),(0,j.jsx)("div",{className:"h-96 mb-4",children:(0,j.jsx)(n.u,{width:"100%",height:"100%",children:(0,j.jsxs)(i.Q,{data:R,margin:{top:20,right:30,left:20,bottom:5},children:[(0,j.jsx)(l.d,{strokeDasharray:"3 3"}),(0,j.jsx)(o.W,{dataKey:"year"}),(0,j.jsx)(d.h,{tickFormatter:e=>f(e)}),(0,j.jsx)(c.m,{formatter:e=>f(e)}),(0,j.jsx)(m.s,{}),(0,j.jsx)(x.e,{x:N.retirementYear,stroke:"red",label:{value:"Retirement",position:"top",fill:"red"}}),(0,j.jsx)(h.G,{type:"monotone",dataKey:"savingsBalance",name:"Savings",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),(0,j.jsx)(h.G,{type:"monotone",dataKey:"cpfBalance",name:"CPF Balance",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.3}),(0,j.jsx)(h.G,{type:"monotone",dataKey:"targetNeeded",name:"Target Needed",stroke:"#ff7300",fill:"#ff7300",fillOpacity:.1})]})})}),(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Retirement Savings Ratio"}),(0,j.jsx)("div",{className:"h-64 mb-4",children:(0,j.jsx)(n.u,{width:"100%",height:"100%",children:(0,j.jsxs)(p,{data:R,margin:{top:5,right:30,left:20,bottom:5},children:[(0,j.jsx)(l.d,{strokeDasharray:"3 3"}),(0,j.jsx)(o.W,{dataKey:"year"}),(0,j.jsx)(d.h,{tickFormatter:e=>`${(100*e).toFixed(0)}%`,domain:[0,Math.max(1.5,Math.ceil(10*Math.max(...R.map((e=>e.savingsRatio))))/10)]}),(0,j.jsx)(c.m,{formatter:e=>`${(100*e).toFixed(0)}%`}),(0,j.jsx)(m.s,{}),(0,j.jsx)(x.e,{x:N.retirementYear,stroke:"red",label:{value:"Retirement",position:"top",fill:"red"}}),(0,j.jsx)(x.e,{y:1,stroke:"green",strokeDasharray:"3 3",label:{value:"100% Funded",position:"right"}}),(0,j.jsx)(g.N,{type:"monotone",dataKey:"savingsRatio",name:"Funding Ratio",stroke:"#ff7300",activeDot:{r:8}})]})})}),(0,j.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 mt-6",children:[(0,j.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"Retirement Planning Tips"}),(0,j.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,j.jsxs)("li",{className:"flex items-start",children:[(0,j.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,j.jsx)("span",{children:"Aim to save at least 20% of your income for retirement."})]}),(0,j.jsxs)("li",{className:"flex items-start",children:[(0,j.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,j.jsx)("span",{children:"Consider diversifying your investments to balance growth and risk."})]}),(0,j.jsxs)("li",{className:"flex items-start",children:[(0,j.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,j.jsx)("span",{children:"As you approach retirement, shift to more conservative investments to protect your savings."})]}),(0,j.jsxs)("li",{className:"flex items-start",children:[(0,j.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,j.jsx)("span",{children:"Consider maximizing your CPF contributions to take advantage of the guaranteed interest rates."})]}),(0,j.jsxs)("li",{className:"flex items-start",children:[(0,j.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,j.jsx)("span",{children:"Review your retirement plan annually and adjust as your life circumstances change."})]})]})]})]})]})}}}]);
//# sourceMappingURL=727.0e20388b.chunk.js.map